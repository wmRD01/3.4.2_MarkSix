{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Patten/Singleton/BaseSingletonComponent.ts"],"names":["BaseSingletonComponent","instance","get","js","getClassName","console","error","onLoad","set","clear","BaseComponent","SingletManager"],"mappings":";;;;;AAKe,WAASA,sBAAT,GAAqC;AAChD,UAAMA,sBAAN;AAAA;AAAA,wCAA6E;AAC/C,iBAARC,QAAQ,GAAM;AAC5B,YAAI,CAAC;AAAA;AAAA,8CAAeA,QAAf,CAAwBC,GAAxB,CAA4BC,EAAE,CAACC,YAAH,CAAgB,IAAhB,CAA5B,CAAL,EAAyD;AACrDC,UAAAA,OAAO,CAACC,KAAR,CAAe,UAASH,EAAE,CAACC,YAAH,CAAgB,IAAhB,CAAsB,sBAA9C;AACH;;AACD,eAAO;AAAA;AAAA,8CAAeH,QAAf,CAAwBC,GAAxB,CAA4CC,EAAE,CAACC,YAAH,CAAgB,IAAhB,CAA5C,CAAP;AACH;;AAESG,MAAAA,MAAM,GAAG;AACf,cAAMA,MAAN;AACA;AAAA;AAAA,8CAAeN,QAAf,CAAwBO,GAAxB,CAA4B,IAA5B;AACH;AAED;AACR;AACA;;;AACeC,MAAAA,KAAK,GAAG,CACd;;AAjBwE;;AAoB7E,WAAOT,sBAAP;AACH;;;;;;;;;;;;;;qBAtBuBA,sB;;;;;;;AALfG,MAAAA,E,OAAAA,E;;AACFO,MAAAA,a;;AAEAC,MAAAA,c","sourcesContent":["import { js } from \"cc\";\r\nimport BaseComponent from \"../../Script/Model/ComponentBase\";\r\nimport IBaseSingleton from \"./IBaseSingleton\";\r\nimport SingletManager from \"./SingletonManger\";\r\n\r\nexport default function BaseSingletonComponent<T>() {\r\n    class BaseSingletonComponent extends BaseComponent implements IBaseSingleton {\r\n        public static get instance(): T {\r\n            if (!SingletManager.instance.get(js.getClassName(this))) {\r\n                console.error(`Adam 當前${js.getClassName(this)} : 需檢查該Class的初始化生命週期`);\r\n            }\r\n            return SingletManager.instance.get<IBaseSingleton>(js.getClassName(this)) as any;\r\n        }\r\n\r\n        protected onLoad() {\r\n            super.onLoad();\r\n            SingletManager.instance.set(this);\r\n        }\r\n\r\n        /**\r\n         * 清除單例物件\r\n         */\r\n        public clear() {\r\n        }\r\n    }\r\n\r\n    return BaseSingletonComponent;\r\n}\r\n"]}
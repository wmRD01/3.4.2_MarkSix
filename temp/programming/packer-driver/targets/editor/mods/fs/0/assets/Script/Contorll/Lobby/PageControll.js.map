{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/Lobby/PageControll.ts"],"names":["_decorator","EventTarget","PageView","Node","BaseSingletonComponent","PageAction","ccclass","property","PageControll","onLoad","pageView","getComponent","pageEvnet","on","ChangeTo","onToPage","start","closeTouch","target","node","off","EventType","TOUCH_START","_onTouchBegan","TOUCH_MOVE","_onTouchMoved","TOUCH_END","_onTouchEnded","TOUCH_CANCEL","_onTouchCancelled","index","scrollToPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;;AACrCC,MAAAA,sB;;AACEC,MAAAA,U,iBAAAA,U;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;yBAETQ,Y,WADpBF,OAAO,CAAC,cAAD,C,yBAAR,MACqBE,YADrB,SAC0C;AAAA;AAAA,6DAD1C,CACiF;AAAA;AAAA;;AAAA;;AAAA,6CAEpD,IAAIP,WAAJ,EAFoD;AAAA;;AAG7EQ,QAAAA,MAAM,GAAG;AACL,gBAAMA,MAAN,GADK,CAEL;;AACA,eAAKC,QAAL,GAAgB,KAAKC,YAAL,CAAkBT,QAAlB,CAAhB;AAEA,eAAKU,SAAL,CAAeC,EAAf,CAAkB;AAAA;AAAA,wCAAWC,QAA7B,EAAuC,KAAKC,QAA5C,EAAsD,IAAtD,EALK,CAML;AACH;;AACDC,QAAAA,KAAK,GAAG;AACJ,eAAKC,UAAL,CAAgB,KAAKP,QAArB;AACH;;AACDO,QAAAA,UAAU,CAACC,MAAD,EAAmB;AACzB;AACAA,UAAAA,MAAM,CAACC,IAAP,CAAYC,GAAZ,CAAgBjB,IAAI,CAACkB,SAAL,CAAeC,WAA/B,EAA4CJ,MAAM,CAACK,aAAnD,EAAkEL,MAAlE,EAA0E,IAA1E,EAFyB,CAGzB;;AACAA,UAAAA,MAAM,CAACC,IAAP,CAAYC,GAAZ,CAAgBjB,IAAI,CAACkB,SAAL,CAAeG,UAA/B,EAA2CN,MAAM,CAACO,aAAlD,EAAiEP,MAAjE,EAAyE,IAAzE,EAJyB,CAKzB;;AACAA,UAAAA,MAAM,CAACC,IAAP,CAAYC,GAAZ,CAAgBjB,IAAI,CAACkB,SAAL,CAAeK,SAA/B,EAA0CR,MAAM,CAACS,aAAjD,EAAgET,MAAhE,EAAwE,IAAxE,EANyB,CAOzB;;AACAA,UAAAA,MAAM,CAACC,IAAP,CAAYC,GAAZ,CAAgBjB,IAAI,CAACkB,SAAL,CAAeO,YAA/B,EAA6CV,MAAM,CAACW,iBAApD,EAAuEX,MAAvE,EAA+E,IAA/E;AACH;AACD;;;AACAH,QAAAA,QAAQ,CAACe,KAAD,EAAkB;AACtB,eAAKpB,QAAL,CAAcqB,YAAd,CAA2BD,KAA3B,EAAkC,CAAlC;AAEH;;AA5B4E,O","sourcesContent":["import { _decorator, EventTarget, PageView, Node } from 'cc';\r\nimport BaseSingletonComponent from '../../../Patten/Singleton/BaseSingletonComponent';\r\nimport { PageAction } from '../../Enum/PageAction';\r\nimport { PageMenu } from '../../Enum/PageMenu';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PageControll')\r\nexport default class PageControll extends BaseSingletonComponent<PageControll>() {\r\n    pageView: PageView;\r\n    pageEvnet: EventTarget = new EventTarget();\r\n    onLoad() {\r\n        super.onLoad()\r\n        // console.log(this.pageEvnet);\r\n        this.pageView = this.getComponent(PageView)\r\n\r\n        this.pageEvnet.on(PageAction.ChangeTo, this.onToPage, this)\r\n        // console.log(this.pageEvnet);\r\n    }\r\n    start() {\r\n        this.closeTouch(this.pageView)\r\n    }\r\n    closeTouch(target: PageView) {\r\n        //@ts-ignore\r\n        target.node.off(Node.EventType.TOUCH_START, target._onTouchBegan, target, true);\r\n        //@ts-ignore\r\n        target.node.off(Node.EventType.TOUCH_MOVE, target._onTouchMoved, target, true);\r\n        //@ts-ignore\r\n        target.node.off(Node.EventType.TOUCH_END, target._onTouchEnded, target, true);\r\n        //@ts-ignore\r\n        target.node.off(Node.EventType.TOUCH_CANCEL, target._onTouchCancelled, target, true);\r\n    }\r\n    /**接收的值也是number，只是PageMenu是enum內存number */\r\n    onToPage(index: PageMenu) {\r\n        this.pageView.scrollToPage(index, 0)\r\n    \r\n    }\r\n}"]}
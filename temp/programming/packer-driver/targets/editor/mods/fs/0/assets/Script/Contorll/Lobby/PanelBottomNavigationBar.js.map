{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/Lobby/PanelBottomNavigationBar.ts"],"names":["Button","Node","UITransform","v3","_decorator","PageAction","ButtonMng","BaseComponent","PublicData","PublicModel","PageControll","ccclass","property","PanelBottomNavigationBar","Map","onLoad","mapButton","set","btnHome","btnPoint","btnChooeseBall","btnClientInfo","btnSetting","circleY","getInstance","BaseViewHeight","nodeCircle","getComponent","height","start","index","btnLayout","children","length","addEvent","getButton","toString","onMoveCircle","e","customEventData","console","log","Number","node","getX","to2DConvertOtherNodeSpaceAR","x","position","instance","pageEvnet","emit","ChangeTo","get"],"mappings":"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","sourcesContent":["import { Button, Node, UITransform, v3, Vec3, _decorator } from \"cc\";\r\nimport { PageAction } from \"../../Enum/PageAction\";\r\nimport { PageMenu } from \"../../Enum/PageMenu\";\r\nimport ButtonMng from \"../../Manager/ButtonMng\";\r\nimport BaseComponent from \"../../Model/ComponentBase\";\r\nimport PublicData from \"../../Model/PublicData\";\r\nimport PublicModel from \"../../Model/PublicModel\";\r\nimport PageControll from \"./PageControll\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PanelUI')\r\nexport default class PanelBottomNavigationBar extends BaseComponent {\r\n    @property(Button)\r\n    btnHome: Button;\r\n    @property(Button)\r\n    btnPoint: Button;\r\n    @property(Button)\r\n    btnChooeseBall: Button;\r\n    @property(Button)\r\n    btnClientInfo: Button;\r\n    @property(Button)\r\n    btnSetting: Button;\r\n    @property(Node)\r\n    btnLayout: Node;\r\n    @property(Node)\r\n    nodeCircle: Node;\r\n    circleY: number;\r\n    mapButton: Map<number, Button> = new Map()\r\n    onLoad() {\r\n        // PageControll.instance.pageEvnet.on(PageAction.ChangeTo, this.onMoveCircle, this)\r\n\r\n        this.mapButton.set(0, this.btnHome);\r\n        this.mapButton.set(1, this.btnPoint);\r\n        this.mapButton.set(2, this.btnChooeseBall);\r\n        this.mapButton.set(3, this.btnClientInfo);\r\n        this.mapButton.set(4, this.btnSetting);\r\n        this.circleY = -(PublicData.getInstance.BaseViewHeight / 2) + (this.nodeCircle.getComponent(UITransform).height / 2)\r\n    }\r\n    start() {\r\n        for (let index = 0; index < this.btnLayout.children.length; index++) {\r\n            ButtonMng.addEvent(this, \"onMoveCircle\", this.getButton(index), index.toString())\r\n        }\r\n    }\r\n    onMoveCircle(e: Event, customEventData?: string) {\r\n\r\n        console.log(customEventData);\r\n        console.log(this.getButton(Number(customEventData)).node);\r\n\r\n\r\n        let getX = PublicModel.getInstance.to2DConvertOtherNodeSpaceAR(this.nodeCircle, this.getButton(Number(customEventData)).node).x\r\n        console.log(v3(getX, this.circleY));\r\n\r\n        this.nodeCircle.position = v3(getX, this.circleY)\r\n        console.log(this.nodeCircle.position);\r\n\r\n        PageControll.instance.pageEvnet.emit(PageAction.ChangeTo, customEventData)\r\n    }\r\n    getButton(index: number) {\r\n        return this.mapButton.get(index)\r\n    }\r\n}"]}
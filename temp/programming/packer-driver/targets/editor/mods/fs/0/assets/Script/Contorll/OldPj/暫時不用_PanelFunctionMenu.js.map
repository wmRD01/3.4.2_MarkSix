{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/OldPj/%E6%9A%AB%E6%99%82%E4%B8%8D%E7%94%A8_PanelFunctionMenu.ts"],"names":["Button","find","Label","Layout","_decorator","DataFunctionMenu","GameEvent","LangType","ButtonMng","SocketSetting","excr","CommandType","WebSocketEvent","GameData","PublicModel","ccclass","property","PanelFunctionMenu","Array","onLoad","contentButton","node","contentBG","buttonBlockBG","getComponent","arr_Btn","push","buttonMusic","buttonRecord","buttonExchange","buttonChangeNickname","buttonBackHome","labelChangeNickname","target","setEvent","OpenMenu","show","addEvent","viewInit","update","moveBG","hideBtn","isRefresh","refreshLayout","setLanguage","string","t","Game","index","length","addChild","onExChange","e","customEventData","hide","_excr","coinType","getInstance","eventEmit","ShowExchange","WebSocketSendCommand","onMusic","ShowSoundSet","onRecode","ViewRecord","onChangeNickname","ShowChangeNickname","betEvent","backHomeEvent","enableBtn","isBoolean","checkBet","updateLayout","getword","to2DConvertOtherNodeSpaceAR","position","_btn","children","getSiblingIndex","active"],"mappings":"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","sourcesContent":["import { Button, Color, color, find, Label, Layout, Sprite, _decorator } from \"cc\";\r\nimport DataFunctionMenu from \"../Data/Panel/DataFunctionMenu\";\r\nimport { GameEvent } from \"../../Enum/GameEvent\";\r\nimport { LangType } from \"../../Enum/LangType\";\r\nimport ButtonMng from \"../../Manager/ButtonMng\";\r\nimport SocketSetting from \"../../Socket/SocketSetting\";\r\nimport { excr } from \"../Api/SendCommand\";\r\nimport { CommandType } from \"../../Enum/CommandType\";\r\nimport { ServerGameSenceType } from \"../../Enum/ServerGameSenceType\";\r\nimport { WebSocketEvent } from \"../../Enum/WebSocketEvent\";\r\nimport GameData from \"../../Model/GameData\";\r\nimport PublicModel from \"../../Model/PublicModel\";\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PanelFunctionMenu')\r\nexport default class PanelFunctionMenu extends DataFunctionMenu {\r\n    arr_Btn: Array<Button> = new Array\r\n    isRefresh: boolean\r\n    tempGameSence: string;\r\n    onLoad() {\r\n        super.onLoad();\r\n        this.contentButton = find(\"con_Btn\", this.node)\r\n        this.contentBG = find(\"con_BG\", this.node)\r\n        this.buttonBlockBG = find(\"BlockBG\", this.node).getComponent(Button);\r\n        this.arr_Btn.push(this.buttonMusic = find(\"btn_Music\", this.contentButton).getComponent(Button));\r\n        this.arr_Btn.push(this.buttonRecord = find(\"btn_Record\", this.contentButton).getComponent(Button));\r\n        this.arr_Btn.push(this.buttonExchange = find(\"btn_Exchange\", this.contentButton).getComponent(Button));\r\n        this.arr_Btn.push(this.buttonChangeNickname = find(\"btn_ChangeNickname\", this.contentButton).getComponent(Button));\r\n        this.arr_Btn.push(this.buttonBackHome = find(\"btn_BackHome\", this.contentButton).getComponent(Button));\r\n        this.labelChangeNickname = find(\"Label\", this.buttonChangeNickname.target).getComponent(Label)\r\n\r\n        this.setEvent(GameEvent.OpenMenu, this.show)\r\n\r\n        ButtonMng.addEvent(this, \"hide\", this.buttonBlockBG, \"\")\r\n        ButtonMng.addEvent(this, \"onMusic\", this.buttonMusic, \"\")\r\n        ButtonMng.addEvent(this, \"onRecode\", this.buttonRecord, \"\")\r\n        ButtonMng.addEvent(this, \"onExChange\", this.buttonExchange, \"\")\r\n        ButtonMng.addEvent(this, \"onChangeNickname\", this.buttonChangeNickname, \"\")\r\n        this.viewInit();\r\n\r\n\r\n    }\r\n    update() {\r\n\r\n    }\r\n    viewInit() {\r\n        super.viewInit()\r\n        this.moveBG()\r\n        this.hideBtn(this.buttonBackHome);\r\n\r\n    }\r\n    show() {\r\n        super.show()\r\n\r\n        if (!this.isRefresh)\r\n            this.refreshLayout()\r\n    }\r\n    setLanguage() {\r\n        this.labelChangeNickname.string = SocketSetting.t(\"023\", LangType.Game)\r\n        find(\"Label\", this.buttonExchange.target).getComponent(Label).string = SocketSetting.t(\"001\", LangType.Game)\r\n        find(\"Label\", this.buttonMusic.target).getComponent(Label).string = SocketSetting.t(\"002\", LangType.Game)\r\n        find(\"Label\", this.buttonRecord.target).getComponent(Label).string = SocketSetting.t(\"003\", LangType.Game)\r\n        find(\"Label\", this.buttonBackHome.target).getComponent(Label).string = SocketSetting.t(\"004\", LangType.Game)\r\n    }\r\n    moveBG() {\r\n        for (let index = 0; index < this.arr_Btn.length; index++) {\r\n            this.contentBG.addChild(this.arr_Btn[index].target)\r\n        }\r\n    }\r\n    onExChange(e: Event, customEventData?: string) {\r\n        this.hide()\r\n        let _excr = new excr()\r\n        _excr.coinType = GameData.getInstance.coinType\r\n        this.eventEmit(GameEvent.ShowExchange)\r\n        this.eventEmit(WebSocketEvent.WebSocketSendCommand, CommandType.excr, _excr)\r\n    }\r\n    onMusic(e: Event, customEventData: string) {\r\n        this.hide()\r\n        this.eventEmit(GameEvent.ShowSoundSet)\r\n    }\r\n    onRecode(e: Event, customEventData?: string) {\r\n        this.eventEmit(WebSocketEvent.ViewRecord)\r\n    }\r\n    onChangeNickname(e: Event, customEventData?: string) {\r\n        this.hide()\r\n        this.eventEmit(GameEvent.ShowChangeNickname)\r\n\r\n    }\r\n    betEvent(e: Event, customEventData: string) {\r\n\r\n    }\r\n    backHomeEvent() {\r\n    }\r\n    // onOpenMenu() {\r\n    //     this.show()\r\n    // }\r\n    async enableBtn(isBoolean: boolean) {\r\n\r\n    }\r\n\r\n    checkBet(e?: Event, customEventData?: string) {\r\n\r\n\r\n    }\r\n    refreshLayout() {\r\n        this.contentButton.getComponent(Layout).updateLayout()\r\n        for (let index = 0; index < this.arr_Btn.length; index++) {\r\n            let getword = PublicModel.getInstance.to2DConvertOtherNodeSpaceAR(this.arr_Btn[index].node, this.arr_Btn[index].target)\r\n            this.arr_Btn[index].target.position = getword\r\n        }\r\n    }\r\n\r\n    hideBtn(_btn: Button) {\r\n        //關閉Line線\r\n        this.contentButton.children[_btn.node.getSiblingIndex() - 1].active = false\r\n        _btn.node.active = false\r\n        _btn.target.active = false\r\n\r\n    }\r\n\r\n}\r\n"]}
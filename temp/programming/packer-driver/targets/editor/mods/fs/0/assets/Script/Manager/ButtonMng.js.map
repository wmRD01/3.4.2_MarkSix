{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Manager/ButtonMng.ts"],"names":["MyButton","EventHandler","js","addEvent","componentTrget","callBack","buttonTarget","callbackValue","findEvent","removeEvent","event","target","node","component","getClassName","handler","customEventData","clickEvents","push","isFind","eventArr","index","length","checkEvent","splice","clearEvent","count"],"mappings":";;;mCAEMA,Q;;;;;AAFsBC,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,E,OAAAA,E;;;;;;;AAEpCF,MAAAA,Q,GAAN,MAAMA,QAAN,CAAe;AAEJG,QAAAA,QAAQ,CAACC,cAAD,EAA4BC,QAA5B,EAA8CC,YAA9C,EAAoEC,aAApE,EAA4F;AACvG,cAAI,KAAKC,SAAL,CAAeF,YAAf,EAA6BD,QAA7B,CAAJ,EAA4C,KAAKI,WAAL,CAAiBH,YAAjB,EAA+BD,QAA/B;AAC5C,cAAIK,KAAK,GAAG,IAAIT,YAAJ,EAAZ;AACAS,UAAAA,KAAK,CAACC,MAAN,GAAeP,cAAc,CAACQ,IAA9B;AACAF,UAAAA,KAAK,CAACG,SAAN,GAAkBX,EAAE,CAACY,YAAH,CAAgBV,cAAhB,CAAlB;AACAM,UAAAA,KAAK,CAACK,OAAN,GAAgBV,QAAhB;AACA,cAAIE,aAAJ,EACIG,KAAK,CAACM,eAAN,GAAwBT,aAAxB;AACJD,UAAAA,YAAY,CAACW,WAAb,CAAyBC,IAAzB,CAA8BR,KAA9B,EARuG,CAUvG;AAEH;;AACMF,QAAAA,SAAS,CAACF,YAAD,EAAuBD,QAAvB,EAAyC;AACrD,cAAIc,MAAM,GAAG,KAAb;AACA,cAAIC,QAAQ,GAAGd,YAAY,CAACW,WAA5B;;AACA,eAAK,IAAII,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,QAAQ,CAACE,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;AAClD,gBAAID,QAAQ,CAACC,KAAD,CAAR,CAAgBN,OAAhB,IAA2BV,QAA/B,EACI,OAAOc,MAAM,GAAG,IAAhB;AACP;;AACD,iBAAOA,MAAP;AACH;;AACMI,QAAAA,UAAU,CAACjB,YAAD,EAAuB;AACpC,cAAIa,MAAM,GAAG,KAAb;AACA,cAAIC,QAAQ,GAAGd,YAAY,CAACW,WAA5B;AACA,cAAIG,QAAQ,CAACE,MAAT,GAAkB,CAAtB,EAAyB,OAAOH,MAAM,GAAG,IAAhB,CAAzB,KACKA,MAAM;AACd;;AAEMV,QAAAA,WAAW,CAACH,YAAD,EAAuBD,QAAvB,EAAyC;AACvD,cAAIe,QAAQ,GAAGd,YAAY,CAACW,WAA5B;;AACA,eAAK,IAAII,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,QAAQ,CAACE,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;AAClD,gBAAID,QAAQ,CAACC,KAAD,CAAR,CAAgBN,OAAhB,IAA2BV,QAA/B,EACI,OAAOe,QAAQ,CAACI,MAAT,CAAgBH,KAAhB,CAAP;AACP;AACJ;;AACMI,QAAAA,UAAU,CAACnB,YAAD,EAAuB;AACpC,cAAIc,QAAQ,GAAGd,YAAY,CAACW,WAA5B;AACA,cAAIS,KAAK,GAAGN,QAAQ,CAACE,MAAT,GAAkB,CAA9B;;AACA,eAAK,IAAID,KAAK,GAAGK,KAAjB,EAAwB,IAAIN,QAAQ,CAACE,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;AAClDD,YAAAA,QAAQ,CAACI,MAAT,CAAgBH,KAAhB;AACH;AACJ;;AA5CU,O;;yBA+CA,IAAIrB,QAAJ,E","sourcesContent":["import { Button, Component, EventHandler, js, Node } from \"cc\";\r\n\r\nclass MyButton {\r\n\r\n    public addEvent(componentTrget: Component, callBack: string, buttonTarget: Button, callbackValue?: string) {\r\n        if (this.findEvent(buttonTarget, callBack)) this.removeEvent(buttonTarget, callBack)\r\n        let event = new EventHandler();\r\n        event.target = componentTrget.node;\r\n        event.component = js.getClassName(componentTrget);\r\n        event.handler = callBack;\r\n        if (callbackValue)\r\n            event.customEventData = callbackValue\r\n        buttonTarget.clickEvents.push(event)\r\n\r\n        // console.log(event);\r\n\r\n    }\r\n    public findEvent(buttonTarget: Button, callBack: string) {\r\n        let isFind = false;\r\n        let eventArr = buttonTarget.clickEvents\r\n        for (let index = 0; index < eventArr.length; index++) {\r\n            if (eventArr[index].handler == callBack)\r\n                return isFind = true\r\n        }\r\n        return isFind;\r\n    }\r\n    public checkEvent(buttonTarget: Button) {\r\n        let isFind = false;\r\n        let eventArr = buttonTarget.clickEvents\r\n        if (eventArr.length > 0) return isFind = true\r\n        else isFind\r\n    }\r\n\r\n    public removeEvent(buttonTarget: Button, callBack: string) {\r\n        let eventArr = buttonTarget.clickEvents\r\n        for (let index = 0; index < eventArr.length; index++) {\r\n            if (eventArr[index].handler == callBack)\r\n                return eventArr.splice(index)\r\n        }\r\n    }\r\n    public clearEvent(buttonTarget: Button) {\r\n        let eventArr = buttonTarget.clickEvents\r\n        let count = eventArr.length - 1\r\n        for (let index = count; 0 < eventArr.length; index++) {\r\n            eventArr.splice(index)\r\n        }\r\n    }\r\n\r\n}\r\nexport default new MyButton();"]}
{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Model/BallData.ts"],"names":["Button","color","Label","Node","Sprite","Tween","tween","Vec3","_decorator","AssetType","AssetMng","BaseComponent","AutoFollow","PublicModel","ccclass","property","BallData","init","_ballNumber","ballNumber","node","position","ZERO","type","label","addComponent","setTarget","string","toString","fromHEX","getColor","spriteBG","spriteFrame","AssetClass","get","data","getBGData","setEffect","getOrg","orgV3","choose","setScale","getInstance","oneSclaeVec3","repeatForever","set","angle","to","start","cancel","eulerAngles","stopAllByTarget","enabledBall","backPosition","console","log","bool","ColorType","白","灰","nodeEffect","active","黑","綠","紅","藍","SpirteData"],"mappings":"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","sourcesContent":["import { Button, Color, color, Label, Node, Sprite, Tween, tween, v3, Vec3, _decorator } from 'cc';\r\nimport { AssetType } from '../Enum/AssetType';\r\nimport AssetMng from '../Manager/AssetMng';\r\nimport { colorTest } from '../test/colorTest';\r\nimport BaseComponent from './ComponentBase';\r\nimport AutoFollow from './AutoFollow';\r\nimport PublicModel from './PublicModel';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('BallData')\r\nexport default class BallData extends BaseComponent {\r\n    /**comp */\r\n    @property(Label)\r\n    label: Label;\r\n    @property(Button)\r\n    button: Button;\r\n    @property(Sprite)\r\n    spriteBG: Sprite;\r\n    /**data */\r\n    @property(Node)\r\n    nodeEffect: Node;\r\n    ballNumber: number = 0;\r\n    type: number = 0;\r\n    orgV3: Vec3;\r\n    init(_ballNumber: number) {\r\n        // console.log(_ballNumber);\r\n\r\n        this.ballNumber = _ballNumber\r\n        this.node.position = Vec3.ZERO\r\n        this.type = _ballNumber % 6\r\n        this.label.addComponent(AutoFollow).setTarget(this.node)\r\n        this.label.string = this.ballNumber.toString()\r\n        this.label.color = color().fromHEX(this.getColor())\r\n        // console.log(AssetMng.AssetClass.get(AssetType.Sprite).data.get(this.getBGData()));\r\n\r\n        this.spriteBG.spriteFrame = AssetMng.AssetClass.get(AssetType.Sprite).data.get(this.getBGData())\r\n        this.setEffect(false)\r\n\r\n\r\n        return this\r\n    }\r\n    getOrg() {\r\n        this.orgV3 = new Vec3(this.node.position)\r\n\r\n    }\r\n    // reset() {\r\n\r\n    // }\r\n    choose() {\r\n        // this.spriteBG.spriteFrame = AssetMng.AssetClass.get(AssetType.Sprite).data.get(this.getBGData())\r\n        // this.spriteBG.color = Color.WHITE\r\n        this.node.setScale(PublicModel.getInstance.oneSclaeVec3(1.2))\r\n        // let rotai = tween()\r\n        //     .set({ angle: 0 })\r\n        //     .to(5, { angle: -360 })\r\n        tween(this.node)\r\n            .repeatForever(tween()\r\n                .set({ angle: 0 })\r\n                .to(5, { angle: -360 }))\r\n            .start()\r\n    }\r\n    cancel() {\r\n        // this.spriteBG.spriteFrame = AssetMng.AssetClass.get(AssetType.Sprite).data.get(SpirteData.空白)\r\n        // this.spriteBG.color = color().fromHEX(this.getColor())\r\n        this.node.setScale(PublicModel.getInstance.oneSclaeVec3(1))\r\n        this.node.eulerAngles = Vec3.ZERO\r\n        Tween.stopAllByTarget(this.node)\r\n        this.enabledBall(true)\r\n    }\r\n    backPosition() {\r\n        Tween.stopAllByTarget(this.node)\r\n        console.log(this.node.position);\r\n\r\n        this.node.position = this.orgV3\r\n        console.log(this.node.position, this.orgV3);\r\n\r\n    }\r\n    enabledBall(bool: boolean) {\r\n        this.spriteBG.color = bool ? color().fromHEX(ColorType.白) : color().fromHEX(ColorType.灰);\r\n    }\r\n    setEffect(bool: boolean) {\r\n        this.nodeEffect.active = bool\r\n    }\r\n    private getColor() {\r\n\r\n        return ColorType.黑\r\n        switch (this.type) {\r\n            case 0:\r\n            case 5:\r\n                return ColorType.綠\r\n            case 1:\r\n            case 2:\r\n                return ColorType.紅\r\n            case 3:\r\n            case 4:\r\n                return ColorType.藍\r\n        }\r\n    }\r\n    private getBGData() {\r\n        switch (this.type) {\r\n            case 0:\r\n            case 5:\r\n                return SpirteData.綠\r\n            case 1:\r\n            case 2:\r\n                return SpirteData.紅\r\n            case 3:\r\n            case 4:\r\n                return SpirteData.藍\r\n        }\r\n    }\r\n}\r\nenum ColorType {\r\n    紅 = \"#FF3D3D\",\r\n    藍 = \"#334BD3\",\r\n    綠 = \"#61BFAD\",\r\n    灰 = \"#797979FD\",\r\n    白 = \"#FFFFFF\",\r\n    黑 = \"#000000\",\r\n\r\n}\r\nenum SpirteData {\r\n    紅 = \"Challenge_RedBall\",\r\n    藍 = \"Challenge_BlueBall\",\r\n    綠 = \"Challenge_GreenBall\",\r\n    空白 = \"Challenge_Frame\"\r\n}"]}
{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Model/BallData.ts"],"names":["Button","Color","color","Label","Sprite","Tween","tween","Vec3","_decorator","AssetType","AssetMng","BaseComponent","LabelAutoFollow","ccclass","property","BallData","init","_ballNumber","ballNumber","node","position","ZERO","type","spriteBG","getComponent","button","label","children","addComponent","setTarget","string","toString","fromHEX","getColor","choose","spriteFrame","AssetClass","get","data","getBGData","WHITE","repeatForever","set","angle","to","start","cancel","SpirteData","空白","stopAllByTarget","ColorType","綠","紅","藍"],"mappings":"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","sourcesContent":["import { Button, Color, color, Label, Sprite, Tween, tween, Vec3, _decorator } from 'cc';\r\nimport { AssetType } from '../Enum/AssetType';\r\nimport AssetMng from '../Manager/AssetMng';\r\nimport BaseComponent from './ComponentBase';\r\nimport LabelAutoFollow from './LabelAutoFollow';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('BallData')\r\nexport default class BallData extends BaseComponent {\r\n    /**compo */\r\n    label: Label;\r\n    button: Button;\r\n    spriteBG: Sprite;\r\n    /**data */\r\n    ballNumber: number;\r\n    type: number;\r\n    init(_ballNumber: number) {\r\n        this.ballNumber = _ballNumber\r\n        this.node.position = Vec3.ZERO\r\n        this.type = _ballNumber % 6\r\n        this.spriteBG = this.node.getComponent(Sprite)\r\n        this.button = this.node.getComponent(Button)\r\n        this.label = this.node.children[0].getComponent(Label)\r\n        this.label.addComponent(LabelAutoFollow).setTarget(this.node)\r\n        this.label.string = this.ballNumber.toString()\r\n        this.label.color = color().fromHEX(this.getColor())\r\n        return this\r\n    }\r\n    // reset() {\r\n\r\n    // }\r\n    choose() {\r\n        this.spriteBG.spriteFrame = AssetMng.AssetClass.get(AssetType.Sprite).data.get(this.getBGData())\r\n        this.spriteBG.color = Color.WHITE\r\n        tween(this.node)\r\n            .repeatForever(tween()\r\n                .set({ angle: 0 })\r\n                .to(5, { angle: -360 }))\r\n            .start()\r\n    }\r\n    cancel() {\r\n        this.spriteBG.spriteFrame = AssetMng.AssetClass.get(AssetType.Sprite).data.get(SpirteData.空白)\r\n        this.spriteBG.color = color().fromHEX(this.getColor())\r\n        Tween.stopAllByTarget(this.node)\r\n    }\r\n    private getColor() {\r\n        switch (this.type) {\r\n            case 0:\r\n            case 5:\r\n                return ColorType.綠\r\n            case 1:\r\n            case 2:\r\n                return ColorType.紅\r\n            case 3:\r\n            case 4:\r\n                return ColorType.藍\r\n        }\r\n    }\r\n    private getBGData() {\r\n        switch (this.type) {\r\n            case 0:\r\n            case 5:\r\n                return SpirteData.綠\r\n            case 1:\r\n            case 2:\r\n                return SpirteData.紅\r\n            case 3:\r\n            case 4:\r\n                return SpirteData.藍\r\n        }\r\n    }\r\n}\r\nenum ColorType {\r\n    紅 = \"#FF3D3D\",\r\n    藍 = \"#334BD3\",\r\n    綠 = \"#61BFAD\",\r\n    灰 = \"#969696\",\r\n}\r\nenum SpirteData {\r\n    紅 = \"Challenge_RedBall\",\r\n    藍 = \"Challenge_BlueBall\",\r\n    綠 = \"Challenge_GreenBall\",\r\n    空白 = \"Challenge_Frame\"\r\n}"]}
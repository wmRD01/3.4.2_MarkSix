{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Model/PointItemData.ts"],"names":["instantiate","Label","Node","Prefab","_decorator","BallData","BaseComponent","AutoFollow","PublicModel","ccclass","property","PointItemData","onLoad","clientPointLayout","removeAllChildren","setLabelContent","_node","labelContent","setOutlineContent","outlineContent","setDayData","day","issueID","labelDayData","string","getInstance","convertDateDay","toString","addComponent","createNewTarget","addChild","node","setOpenNumber","numbers","index","length","maxNumberCount","labelOpenNumber","setTarget","parent","setSelfNumber","children","prefabBallItem","_class","getComponent","init","label","setScore","num","labelPoint","labelOpenNumberTitle","labelMyChooeseNumber","randomBall","Math","floor","random"],"mappings":"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","sourcesContent":["import { instantiate, Label, Node, Prefab, _decorator } from 'cc';\r\nimport BallData from './BallData';\r\nimport BaseComponent from './ComponentBase';\r\nimport AutoFollow from './AutoFollow';\r\nimport PublicModel from './PublicModel';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PointItemData')\r\nexport default class PointItemData extends BaseComponent {\r\n    @property(Prefab)\r\n    prefabBallItem: Prefab;\r\n    @property(Label)\r\n    labelMyChooeseNumber: Label;\r\n    @property(Label)\r\n    labelOpenNumberTitle: Label;\r\n    @property(Label)\r\n    labelPoint: Label;\r\n    @property(Label)\r\n    labelOpenNumber: Label[] = []\r\n    maxNumberCount: number = 6\r\n    @property(Label)\r\n    labelDayData: Label;\r\n    @property(Node)\r\n    clientPointLayout: Node\r\n    labelContent: Node\r\n    outlineContent: Node;\r\n\r\n    onLoad() {\r\n        this.clientPointLayout.removeAllChildren()\r\n\r\n    }\r\n    setLabelContent(_node: Node) {\r\n        this.labelContent = _node\r\n        return this;\r\n    }\r\n    setOutlineContent(_node: Node) {\r\n        this.outlineContent = _node\r\n        return this;\r\n    }\r\n    /**\r\n     * \r\n     * @param day 日期 \r\n     * @param issueID 期號\r\n     */\r\n    setDayData(day: string, issueID: number) {\r\n        this.labelDayData.string = `${PublicModel.getInstance.convertDateDay(day)} 第${issueID.toString()}期`\r\n        this.labelDayData.addComponent(AutoFollow).createNewTarget()\r\n        this.labelContent.addChild(this.labelDayData.node)\r\n        return this\r\n    }\r\n    setOpenNumber(numbers: string[]) {\r\n        for (let index = 0; index < numbers.length; index++) {\r\n            if (index == this.maxNumberCount) break;\r\n\r\n            this.labelOpenNumber[index].string = numbers[index]\r\n            this.labelOpenNumber[index].node.addComponent(AutoFollow).setTarget(this.labelOpenNumber[index].node.parent)\r\n            this.labelContent.addChild(this.labelOpenNumber[index].node)\r\n        }\r\n        return this\r\n    }\r\n    setSelfNumber(numbers: number[]) {\r\n        if (this.clientPointLayout.children.length >= this.maxNumberCount) return;\r\n        for (let index = 0; index < numbers.length; index++) {\r\n            let _node = instantiate(this.prefabBallItem)\r\n            this.clientPointLayout.addChild(_node)\r\n            let _class = _node.getComponent(BallData)\r\n            _class.init(numbers[index])\r\n            this.labelContent.addChild(_class.label.node)\r\n\r\n        }\r\n    }\r\n    setScore(num: number) {\r\n        this.labelPoint.string = `+${num.toString()}`;\r\n    }\r\n    init() {\r\n        this.labelOpenNumberTitle.addComponent(AutoFollow).createNewTarget()\r\n        this.labelContent.addChild(this.labelOpenNumberTitle.node)\r\n        this.labelMyChooeseNumber.addComponent(AutoFollow).createNewTarget()\r\n        this.outlineContent.addChild(this.labelMyChooeseNumber.node)\r\n        this.labelPoint.string = \"+0\"\r\n        this.labelPoint.addComponent(AutoFollow).createNewTarget()\r\n        this.labelContent.addChild(this.labelPoint.node)\r\n        return this\r\n    }\r\n    /**測試用 */\r\n    randomBall() {\r\n        return 1 + (Math.floor(Math.random() * 49))\r\n    }\r\n}"]}
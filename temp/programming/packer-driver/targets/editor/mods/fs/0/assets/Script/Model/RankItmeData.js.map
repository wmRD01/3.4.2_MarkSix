{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Model/RankItmeData.ts"],"names":["Label","Sprite","UITransform","_decorator","AssetType","AssetMng","BaseComponent","PublicModel","ccclass","property","RankItmeData","init","data","spriteRank","spriteFrame","checkRank","rank","getInstance","checkStringNull","nickName","getplatform","split","labelName","string","replace","labelPointCount","totalScore","toString","labelRank","num","spriteRankUI","setAnchorPoint","AssetClass","get","randomRank","Math","floor","random"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,K,OAAAA,K;AAAOC,MAAAA,M,OAAAA,M;AAAqBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,U,OAAAA,U;;AAEzCC,MAAAA,S,iBAAAA,S;;AACFC,MAAAA,Q;;AACAC,MAAAA,a;;AACAC,MAAAA,W;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U,GAC9B;;yBAEqBO,Y,WADpBF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACP,WAAD,C,UAERO,QAAQ,CAACR,MAAD,C,UAERQ,QAAQ,CAACR,MAAD,C,UAERQ,QAAQ,CAACT,KAAD,C,UAERS,QAAQ,CAACT,KAAD,C,UAERS,QAAQ,CAACT,KAAD,C,oCAZb,MACqBU,YADrB;AAAA;AAAA,0CACwD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAapDC,QAAAA,IAAI,CAACC,IAAD,EAAsC;AACtC,eAAKC,UAAL,CAAgBC,WAAhB,GAA8B,KAAKC,SAAL,CAAeH,IAAI,CAACI,IAApB,CAA9B;;AACA,cAAI,CAAC;AAAA;AAAA,0CAAYC,WAAZ,CAAwBC,eAAxB,CAAwCN,IAAI,CAACO,QAA7C,CAAL,EAA6D;AAAA;;AACzD,gBAAIC,WAAW,qBAAGR,IAAI,CAACO,QAAR,mDAAG,eAAeE,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAlB;AAA8C;;AAC9C,iBAAKC,SAAL,CAAeC,MAAf,GAAwBX,IAAI,CAACO,QAAL,CAAcK,OAAd,CAAuB,GAAEJ,WAAY,GAArC,EAAyC,EAAzC,CAAxB;AACH,WAHD,MAKI,KAAKE,SAAL,CAAeC,MAAf,GAAwBX,IAAI,CAACO,QAA7B;;AACJ,eAAKM,eAAL,CAAqBF,MAArB,GAA8BX,IAAI,CAACc,UAAL,CAAgBC,QAAhB,EAA9B;AACA,eAAKC,SAAL,CAAeL,MAAf,GAAwBX,IAAI,CAACI,IAAL,CAAUW,QAAV,EAAxB;AACH;;AACDZ,QAAAA,SAAS,CAACc,GAAD,EAAc;AACnB,cAAIA,GAAG,GAAG,CAAV,EAAa;AACT,iBAAKC,YAAL,CAAkBC,cAAlB,CAAiC,EAAjC,EAAqC,GAArC;AACA,mBAAO;AAAA;AAAA,sCAASC,UAAT,CAAoBC,GAApB,CAAwB;AAAA;AAAA,wCAAUhC,MAAlC,EAA0CW,IAA1C,CAA+CqB,GAA/C,CAAoD,YAAWJ,GAAI,EAAnE,CAAP;AACH,WAHD,MAKI,OAAO;AAAA;AAAA,oCAASG,UAAT,CAAoBC,GAApB,CAAwB;AAAA;AAAA,sCAAUhC,MAAlC,EAA0CW,IAA1C,CAA+CqB,GAA/C,CAAoD,iBAApD,CAAP;AACP;;AACDC,QAAAA,UAAU,GAAG;AACT,iBAAO,IAAKC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CAAZ;AACH;;AAlCmD,O","sourcesContent":["import { Label, Sprite, SpriteAtlas, UITransform, _decorator } from 'cc';\r\nimport { ResponseGPG } from '../Contorll/Api/GPGAPI/ResponseGPG';\r\nimport { AssetType } from '../Enum/AssetType';\r\nimport AssetMng from '../Manager/AssetMng';\r\nimport BaseComponent from './ComponentBase';\r\nimport PublicModel from './PublicModel';\r\nconst { ccclass, property } = _decorator;\r\n//TODO 欸你的排行榜的名次圖片沒過去阿XD\r\n@ccclass('RankItmeData')\r\nexport default class RankItmeData extends BaseComponent {\r\n    @property(UITransform)\r\n    spriteRankUI: UITransform\r\n    @property(Sprite)\r\n    spriteRank: Sprite\r\n    @property(Sprite)\r\n    spriteBG: Sprite\r\n    @property(Label)\r\n    labelName: Label;\r\n    @property(Label)\r\n    labelPointCount: Label;\r\n    @property(Label)\r\n    labelRank: Label;\r\n    init(data: ResponseGPG.TopScore.TopScore) {\r\n        this.spriteRank.spriteFrame = this.checkRank(data.rank)\r\n        if (!PublicModel.getInstance.checkStringNull(data.nickName)) {\r\n            let getplatform = data.nickName?.split(\"_\")[0]/**因為前面會有註冊會員的文字，要刪除掉 */\r\n            this.labelName.string = data.nickName.replace(`${getplatform}_`, \"\")\r\n        }\r\n        else\r\n            this.labelName.string = data.nickName\r\n        this.labelPointCount.string = data.totalScore.toString()\r\n        this.labelRank.string = data.rank.toString()\r\n    }\r\n    checkRank(num: number) {\r\n        if (num < 4) {\r\n            this.spriteRankUI.setAnchorPoint(.5, .36)\r\n            return AssetMng.AssetClass.get(AssetType.Sprite).data.get(`integral_${num}`)\r\n        }\r\n        else\r\n            return AssetMng.AssetClass.get(AssetType.Sprite).data.get(`integral_common`)\r\n    }\r\n    randomRank() {\r\n        return 1 + (Math.floor(Math.random() * 5))\r\n    }\r\n}"]}
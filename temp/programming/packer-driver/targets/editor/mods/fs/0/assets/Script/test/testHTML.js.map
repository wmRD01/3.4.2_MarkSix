{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/test/testHTML.ts"],"names":["director","Label","Node","tween","UITransform","v3","_decorator","BaseComponent","ccclass","property","testHTML","start","node","parallel","call","label","to","position","label2","temp","console","warn","changParent","parent","targetNode","log","undefined","getScene","getChildByName","addChild","orgPos","to2DConvertOtherNodeSpaceAR","pos","worldPoint","getComponent","convertToWorldSpaceAR","convertToNodeSpaceAR"],"mappings":"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","sourcesContent":["import { director, Label, Node, tween, UITransform, v3, _decorator } from \"cc\";\r\nimport BaseComponent from \"../Model/ComponentBase\";\r\nimport PublicModel from \"../Model/PublicModel\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('testHTML')\r\nexport default class testHTML extends BaseComponent {\r\n    @property(Label)\r\n    label: Label;\r\n    @property(Label)\r\n    label2: Label;\r\n    start() {\r\n\r\n        // // 創建一個新的<link>元素\r\n        // const googleapis = document.createElement(\"link\");\r\n\r\n        // // 設定<link>元素的屬性\r\n        // googleapis.rel = \"preconnect\";\r\n        // googleapis.href = \"https://fonts.googleapis.com\";\r\n        // // 創建一個新的<link>元素\r\n        // const gstatic = document.createElement(\"link\");\r\n\r\n        // // 設定<link>元素的屬性\r\n        // gstatic.rel = \"preconnect\";\r\n        // gstatic.href = \"https://fonts.gstatic.com\";\r\n        // gstatic.crossOrigin = \"\"\r\n        // // 創建一個新的<link>元素\r\n        // const font = document.createElement(\"link\");\r\n\r\n        // // 設定<link>元素的屬性\r\n        // font.rel = \"stylesheet\";\r\n        // font.href = \"https://fonts.googleapis.com/css2?family=Sigmar&display=swap\";\r\n\r\n        // // 將<link>元素添加到<head>元素中\r\n        // const headElement = document.getElementsByTagName(\"head\")[0];\r\n        // headElement.appendChild(googleapis);\r\n        // headElement.appendChild(gstatic);\r\n        // headElement.appendChild(font);\r\n        // console.log(this.label.fontFamily);\r\n        // // setTimeout(() => {\r\n\r\n        // //     this.label.fontFamily = \"Sigmar\"\r\n\r\n        // //     this.label.string = \"iter\"\r\n        // // }, 3000);\r\n\r\n        tween(this.node)\r\n            .parallel(\r\n                tween()\r\n                    .call(() => {\r\n                        tween(this.label.node)\r\n                            .to(5, { position: v3(50, 50) })\r\n                            .to(5, { position: v3(0, 0) })\r\n                            .start()\r\n                    }),\r\n                tween()\r\n                    .call(() => {\r\n                        tween(this.label2.node)\r\n                            .to(5, { position: v3(-50, -50) })\r\n                            .to(5, { position: v3(0, 0) })\r\n                            .start()\r\n                    })\r\n            )\r\n            .start()\r\n\r\n        const temp = new Node()\r\n        console.warn(\"開始\");\r\n\r\n        this.changParent(temp, this.label.node, this.label.node.parent)\r\n        console.warn(temp.parent);\r\n\r\n\r\n\r\n    }\r\n    changParent(node: Node, targetNode: Node, parent: Node) {\r\n        console.log(node);\r\n        if (node.parent == null || node.parent == undefined)\r\n            director.getScene().getChildByName(\"Canvas\").addChild(node)\r\n        console.log(node.parent);\r\n\r\n        let orgPos = this.to2DConvertOtherNodeSpaceAR(node, targetNode)\r\n        parent.addChild(node)\r\n        node.position = orgPos\r\n    }\r\n    to2DConvertOtherNodeSpaceAR(node: Node, targetNode: Node) {\r\n        let pos = targetNode.position;\r\n        // console.log(pos);\r\n        //轉成世界座標\r\n        let worldPoint = node.getComponent(UITransform).convertToWorldSpaceAR(pos);\r\n        // console.log(worldPoint);\r\n        return targetNode.getComponent(UITransform).convertToNodeSpaceAR(worldPoint);\r\n    }\r\n}"]}
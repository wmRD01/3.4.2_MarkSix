{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/%E6%97%A5%E7%AB%8B%E5%8C%85/assets/component/scrollPull/jsPullDownAnim.js"],"names":["cc","Class","extends","Component","properties","radioList","Node","onLoad","posCount","cleanScale","pulldownUpdate","count","node","opacity","dicUp","scale0","scale1","scale2","scale","loosenAnim","callback","forEach","radio","scl","seq","sequence","spawn","scaleTo","fadeTo","fadeOut","callFunc","runAction","stopAllActions","hide","active","show"],"mappings":"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","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        radioList: [cc.Node]\n    },\n\n    onLoad() {\n        this.posCount = null;\n        this.cleanScale();\n    },\n\n    pulldownUpdate(count) {\n        if (this.posCount == null){\n            this.cleanScale();\n            this.posCount = count;\n        }\n        this.node.opacity = 255;\n        let dicUp = count - this.posCount;\n        let radioList = this.radioList;\n        let scale0 = 0.5 + dicUp / 100;\n        let scale1 = 0.5 + dicUp / 200;\n        let scale2 = 0.5 + dicUp / 300;\n        radioList[0].scale = scale0 > 1.2 ? 1.2 : (scale0 < 0.5 ? 0.5 : scale0);\n        radioList[1].scale = scale1 > 0.9 ? 0.9 : (scale1 < 0.5 ? 0.5 : scale1);\n        radioList[2].scale = scale2 > 0.7 ? 0.7 : (scale2 < 0.5 ? 0.5 : scale2);\n    },\n    loosenAnim(callback) {\n        this.radioList.forEach(radio => {\n            let scl = radio.scale;\n            let seq = cc.sequence(\n                cc.spawn(cc.scaleTo(0.2, scl+0.2), cc.fadeTo(0.2, 200)),\n                cc.spawn(cc.scaleTo(0.2, 1), cc.fadeOut(0.2)),\n                cc.callFunc(() => {\n                    this.cleanScale();\n                    if (callback){\n                        callback();\n                    }\n                })\n            )\n            radio.runAction(seq)\n        });\n    },\n\n    cleanScale() {\n        this.radioList.forEach(radio => {\n            radio.stopAllActions();\n            radio.scale = 0.5;\n            radio.opacity = 255;\n        });\n        this.node.opacity = 0;\n        this.posCount = null;\n    },\n\n    hide() {\n        if(this.node){\n            this.node.active = false;\n        }\n    },\n    show() {\n        if(this.node){\n            this.node.active = true;\n        }\n    }\n});\n"]}
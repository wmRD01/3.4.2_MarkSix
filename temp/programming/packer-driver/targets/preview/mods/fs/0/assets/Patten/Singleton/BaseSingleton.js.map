{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Patten/Singleton/BaseSingleton.ts"],"names":["BaseSingleton","getInstance","instance","name","set","singletManager","constructor","clear","_instance","SingletManager"],"mappings":";;;;;;;AAGe,WAASA,aAAT,GAA4B;AACvC,UAAMA,aAAN,CAA8C;AAIb,iBAAXC,WAAW,GAAM;AAC/B,YAAI,CAAO,IAAN,CAAYC,QAAjB,EAA2B;AACjB,cAAN,CAAYA,QAAZ,GAAuB,IAAU,IAAV,EAAvB;;AACA,cAAU,IAAN,CAAYC,IAAZ,IAAoB,gBAAxB,EAA0C;AACtC;AAAA;AAAA,kDAAeD,QAAf,CAAwBE,GAAxB,CAAkC,IAAN,CAAYF,QAAxC;AACH,WAFD,MAEO;AACH,gBAAMG,cAAc,GAAS,IAAN,CAAYH,QAAnC;AACAG,YAAAA,cAAc,CAACD,GAAf,CAAyB,IAAN,CAAYF,QAA/B;AACH;AACJ;;AACD,eAAa,IAAN,CAAYA,QAAnB;AACH;;AAESI,MAAAA,WAAW,GAAG,CACvB;AAED;AACR;AACA;;;AACeC,MAAAA,KAAK,GAAG;AACL,YAAN,CAAYC,SAAZ,GAAwB,IAAxB;AACH;;AAzByC;;AADP,oBACjCR,aADiC;;AA6BvC,WAAOA,aAAP;AACH;;;;;;;;;;qBA9BuBA,a;;;;;;;;AAFjBS,MAAAA,c","sourcesContent":["import IBaseSingleton from \"./IBaseSingleton\";\r\nimport SingletManager from \"./SingletonManger\";\r\n\r\nexport default function BaseSingleton<T>() {\r\n    class BaseSingleton implements IBaseSingleton {\r\n\r\n        private static instance: any;\r\n\r\n        public static get getInstance(): T {\r\n            if (!(<any>this).instance) {\r\n                (<any>this).instance = new (<any>this)();\r\n                if ((<any>this).name != \"SingletManager\") {\r\n                    SingletManager.instance.set((<any>this).instance);\r\n                } else {\r\n                    const singletManager = (<any>this).instance as SingletManager;\r\n                    singletManager.set((<any>this).instance);\r\n                }\r\n            }\r\n            return (<any>this).instance;\r\n        }\r\n\r\n        protected constructor() {\r\n        }\r\n\r\n        /**\r\n         * 清除單例物件\r\n         */\r\n        public clear() {\r\n            (<any>this)._instance = null;\r\n        }\r\n    }\r\n\r\n    return BaseSingleton;\r\n}\r\n"]}
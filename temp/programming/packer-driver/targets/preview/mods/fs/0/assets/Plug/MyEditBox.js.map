{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Plug/MyEditBox.ts"],"names":["_decorator","Node","EditBox","Label","ccclass","property","MyEditBox","_updateTextLabel","textLabel","_textLabel","node","getChildByName","layer","getComponent","addComponent","overflow","Overflow","CLAMP","parent","transformComp","_uiProps","uiTransformComp","setAnchorPoint","_inputMode","enableWrapText","string","_updateLabelStringStyle","_string","_updatePlaceholderLabel","placeholderLabel","_placeholderLabel","transform","placeholder"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, EditBox, Label, VerticalTextAlignment } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MyEditBox')\r\nexport class MyEditBox extends EditBox {\r\n    _updateTextLabel() {\r\n        let textLabel = this._textLabel; // If textLabel doesn't exist, create one.\r\n\r\n        if (!textLabel) {\r\n            let node = this.node.getChildByName('TEXT_LABEL');\r\n\r\n            if (!node) {\r\n                node = new Node('TEXT_LABEL');\r\n                node.layer = this.node.layer;\r\n            }\r\n\r\n            textLabel = node.getComponent(Label);\r\n\r\n            if (!textLabel) {\r\n                textLabel = node.addComponent(Label);\r\n            }\r\n\r\n            textLabel.overflow = Label.Overflow.CLAMP;\r\n            node.parent = this.node;\r\n            this._textLabel = textLabel;\r\n        } // update\r\n\r\n\r\n        const transformComp = this._textLabel.node._uiProps.uiTransformComp;\r\n        transformComp.setAnchorPoint(0, 1);\r\n\r\n        if (this._inputMode === 0) {\r\n            //   textLabel.verticalAlign = VerticalTextAlignment.TOP;\r\n            textLabel.enableWrapText = true;\r\n        } else {\r\n            textLabel.enableWrapText = false;\r\n        }\r\n\r\n        textLabel.string = this._updateLabelStringStyle(this._string);\r\n    }\r\n    _updatePlaceholderLabel() {\r\n        let placeholderLabel = this._placeholderLabel; // If placeholderLabel doesn't exist, create one.\r\n\r\n        if (!placeholderLabel) {\r\n            let node = this.node.getChildByName('PLACEHOLDER_LABEL');\r\n\r\n            if (!node) {\r\n                node = new Node('PLACEHOLDER_LABEL');\r\n                node.layer = this.node.layer;\r\n            }\r\n\r\n            placeholderLabel = node.getComponent(Label);\r\n\r\n            if (!placeholderLabel) {\r\n                placeholderLabel = node.addComponent(Label);\r\n            }\r\n            placeholderLabel.overflow = Label.Overflow.CLAMP;\r\n            node.parent = this.node;\r\n            this._placeholderLabel = placeholderLabel;\r\n        } // update\r\n\r\n        const transform = this._placeholderLabel.node._uiProps.uiTransformComp;\r\n        transform.setAnchorPoint(0, 1);\r\n\r\n        if (this._inputMode === 0) {\r\n            // placeholderLabel.verticalAlign = VerticalTextAlignment.TOP;\r\n            placeholderLabel.enableWrapText = true;\r\n        } else {\r\n            placeholderLabel.enableWrapText = false;\r\n        }\r\n\r\n        placeholderLabel.string = this.placeholder;\r\n    }\r\n\r\n\r\n}\r\n\r\n"]}
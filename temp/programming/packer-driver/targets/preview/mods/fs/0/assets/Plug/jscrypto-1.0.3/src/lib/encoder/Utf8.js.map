{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Plug/jscrypto-1.0.3/src/lib/encoder/Utf8.ts"],"names":["Latin1","Utf8","stringify","w","decodeURIComponent","escape","e","Error","parse","utf8Str","unescape","encodeURIComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AACQA,MAAAA,M,iBAAAA,M;;;;;;;sBAGKC,I,GAAiB;AAC5B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,QAAAA,SAAS,CAACC,CAAD,EAAgB;AACvB,cAAI;AACF,mBAAOC,kBAAkB,CAACC,MAAM,CAAC;AAAA;AAAA,kCAAOH,SAAP,CAAiBC,CAAjB,CAAD,CAAP,CAAzB;AACD,WAFD,CAGA,OAAOG,CAAP,EAAU;AACR,kBAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;AACD;AACF,SAhB2B;;AAkB5B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,QAAAA,KAAK,CAACC,OAAD,EAAiB;AACpB,iBAAO;AAAA;AAAA,gCAAOD,KAAP,CAAaE,QAAQ,CAACC,kBAAkB,CAACF,OAAD,CAAnB,CAArB,CAAP;AACD;;AA5B2B,O","sourcesContent":["import type {IEncoder} from \"../type\";\nimport {Latin1} from \"./Latin1\";\nimport type {Word32Array} from \"../Word32Array\";\n\nexport const Utf8: IEncoder = {\n  /**\n   * Converts a word array to a UTF-8 string.\n   *\n   * @param {Word32Array} w An array of 32-bit words.\n   * @return {string} The UTF-8 string.\n   * @example\n   *   var utf8String = Utf8.stringify(new Word32Array([0x293892]));\n   */\n  stringify(w: Word32Array){\n    try {\n      return decodeURIComponent(escape(Latin1.stringify(w)));\n    }\n    catch (e) {\n      throw new Error(\"Malformed UTF-8 data\");\n    }\n  },\n  \n  /**\n   * Converts a UTF-8 string to a word array.\n   *\n   * @param {string} utf8Str The UTF-8 string.\n   * @return {Word32Array} The word array.\n   * @example\n   *   var wordArray = Utf8.parse(utf8Str);\n   */\n  parse(utf8Str: string){\n    return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n  }\n}\n"]}
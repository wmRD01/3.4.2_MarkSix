{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/Api/CASTAPI.ts"],"names":["CASTAPI","Pakege","CASTCommandType","NotificationType","GameEvent","EventMng","connet","window","addEventListener","onReceiveMessage","send","cmd","data","console","log","parent","postMessage","event","Guest","Orientation","getInstance","mapEvnet","get","Pulic","emit","SetOrientation","orientation","constructor","_cmd","_data"],"mappings":";;;sFAKaA,O,EAoBPC,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAzBGC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,S,iBAAAA,S;;AACFC,MAAAA,Q;;;;;;;yBAEML,O,GAAN,MAAMA,OAAN,CAAc;AACjBM,QAAAA,MAAM,GAAG;AACLC,UAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKC,gBAAxC,EAA0D,KAA1D;AACH;;AACDC,QAAAA,IAAI,CAACC,GAAD,EAAcC,IAAd,EAAkC;AAClCC,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiBC,IAAjB,EADkC,CAElC;;AACAL,UAAAA,MAAM,CAACQ,MAAP,CAAcC,WAAd,CAA0B,IAAIf,MAAJ,CAAWU,GAAX,EAAgBC,IAAhB,CAA1B,EAAiD,GAAjD;AACH;;AACDH,QAAAA,gBAAgB,CAACQ,KAAD,EAA4B;AACxC,kBAAQA,KAAK,CAACN,GAAd;AACI,iBAAK;AAAA;AAAA,oDAAgBO,KAArB;AACI;;AACJ,iBAAK;AAAA;AAAA,oDAAgBC,WAArB;AACI;AAAA;AAAA,wCAASC,WAAT,CAAqBC,QAArB,CAA8BC,GAA9B,CAAkC;AAAA;AAAA,wDAAiBC,KAAnD,EAA0DC,IAA1D,CAA+D;AAAA;AAAA,0CAAUC,cAAzE,EAAyFR,KAAK,CAACL,IAAN,CAAWc,WAApG;AACA;AALR;AAOH;;AAjBgB,O;;AAoBfzB,MAAAA,M,GAAN,MAAMA,MAAN,CAAa;AAGT0B,QAAAA,WAAW,CAACC,IAAD,EAAeC,KAAf,EAA8B;AAAA;;AAAA;;AACrC,eAAKlB,GAAL,GAAWiB,IAAX;AACA,eAAKhB,IAAL,GAAYiB,KAAZ;AACH;;AANQ,O","sourcesContent":["import { CASTCommandType } from \"../../Enum/CASTCommandType\";\r\nimport { NotificationType } from \"../../Enum/NotificationType\";\r\nimport { GameEvent } from \"../../Enum/GameEvent\";\r\nimport EventMng from \"../../Manager/EventMng\";\r\n\r\nexport class CASTAPI {\r\n    connet() {\r\n        window.addEventListener(\"message\", this.onReceiveMessage, false);\r\n    }\r\n    send(cmd: string, data: object): void {\r\n        console.log(cmd, data);\r\n        // console.error(\"傳送封包喔\", Packet);\r\n        window.parent.postMessage(new Pakege(cmd, data), \"*\");\r\n    }\r\n    onReceiveMessage(event: Pakege | any): void {\r\n        switch (event.cmd) {\r\n            case CASTCommandType.Guest:\r\n                break;\r\n            case CASTCommandType.Orientation:\r\n                EventMng.getInstance.mapEvnet.get(NotificationType.Pulic).emit(GameEvent.SetOrientation, event.data.orientation)\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nclass Pakege {\r\n    cmd: string\r\n    data: object;\r\n    constructor(_cmd: string, _data: object) {\r\n        this.cmd = _cmd;\r\n        this.data = _data\r\n    }\r\n}"]}
{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/Api/CASTAPI.ts"],"names":["CASTAPI","Pakege","CASTCommandType","GameEvent","EventMng","connet","window","addEventListener","onReceiveMessage","send","cmd","data","console","log","parent","postMessage","event","Guest","Orientation","emit","SetOrientation","orientation","constructor","_cmd","_data"],"mappings":";;;oEAIaA,O,EAoBPC,M;;;;;;;;;;;;;;;;;;;;;;;;AAxBGC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,S,iBAAAA,S;;AACFC,MAAAA,Q;;;;;;;yBAEMJ,O,GAAN,MAAMA,OAAN,CAAc;AACjBK,QAAAA,MAAM,GAAG;AACLC,UAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKC,gBAAxC,EAA0D,KAA1D;AACH;;AACDC,QAAAA,IAAI,CAACC,GAAD,EAAcC,IAAd,EAAkC;AAClCC,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiBC,IAAjB,EADkC,CAElC;;AACAL,UAAAA,MAAM,CAACQ,MAAP,CAAcC,WAAd,CAA0B,IAAId,MAAJ,CAAWS,GAAX,EAAgBC,IAAhB,CAA1B,EAAiD,GAAjD;AACH;;AACDH,QAAAA,gBAAgB,CAACQ,KAAD,EAA4B;AACxC,kBAAQA,KAAK,CAACN,GAAd;AACI,iBAAK;AAAA;AAAA,oDAAgBO,KAArB;AACI;;AACJ,iBAAK;AAAA;AAAA,oDAAgBC,WAArB;AACI;AAAA;AAAA,wCAASC,IAAT,CAAc;AAAA;AAAA,0CAAUC,cAAxB,EAAwCJ,KAAK,CAACL,IAAN,CAAWU,WAAnD;AACA;AALR;AAOH;;AAjBgB,O;;AAoBfpB,MAAAA,M,GAAN,MAAMA,MAAN,CAAa;AAGTqB,QAAAA,WAAW,CAACC,IAAD,EAAeC,KAAf,EAA8B;AAAA;;AAAA;;AACrC,eAAKd,GAAL,GAAWa,IAAX;AACA,eAAKZ,IAAL,GAAYa,KAAZ;AACH;;AANQ,O","sourcesContent":["import { CASTCommandType } from \"../../Enum/CASTCommandType\";\r\nimport { GameEvent } from \"../../Enum/GameEvent\";\r\nimport EventMng from \"../../Manager/EventMng\";\r\n\r\nexport class CASTAPI {\r\n    connet() {\r\n        window.addEventListener(\"message\", this.onReceiveMessage, false);\r\n    }\r\n    send(cmd: string, data: object): void {\r\n        console.log(cmd, data);\r\n        // console.error(\"傳送封包喔\", Packet);\r\n        window.parent.postMessage(new Pakege(cmd, data), \"*\");\r\n    }\r\n    onReceiveMessage(event: Pakege | any): void {\r\n        switch (event.cmd) {\r\n            case CASTCommandType.Guest:\r\n                break;\r\n            case CASTCommandType.Orientation:\r\n                EventMng.emit(GameEvent.SetOrientation, event.data.orientation)\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nclass Pakege {\r\n    cmd: string\r\n    data: object;\r\n    constructor(_cmd: string, _data: object) {\r\n        this.cmd = _cmd;\r\n        this.data = _data\r\n    }\r\n}"]}
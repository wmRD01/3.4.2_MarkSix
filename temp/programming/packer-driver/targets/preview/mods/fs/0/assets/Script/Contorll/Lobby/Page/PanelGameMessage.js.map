{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/Lobby/Page/PanelGameMessage.ts"],"names":["instantiate","Node","Prefab","_decorator","GameEvent","GameStateEvent","BaseComponent","MessageItem","ccclass","property","PanelGameMessage","onEnable","setEvent","ResetView","allReset","GameMessage","onGameMessage","start","window","isPhone","phoneInit","spriteContent","removeAllChildren","labelContent","str","_node","item","_class","getComponent","children","length","index","moveUp","addChild","label","node","string","outFade","onDisable","deletEvent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,W,OAAAA,W;AAAoBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,U,OAAAA,U;;AAClCC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,c,iBAAAA,c;;AACFC,MAAAA,a;;AACAC,MAAAA,W;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAETO,gB,WADpBF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAACP,MAAD,C,UAERO,QAAQ,CAACR,IAAD,C,UAERQ,QAAQ,CAACR,IAAD,C,qCANb,MACqBS,gBADrB;AAAA;AAAA,0CAC4D;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AASxDC,QAAAA,QAAQ,GAAG;AACP,eAAKC,QAAL,CAAc;AAAA;AAAA,sCAAUC,SAAxB,EAAmC,KAAKC,QAAxC;AACA,eAAKF,QAAL,CAAc;AAAA;AAAA,gDAAeG,WAA7B,EAA0C,KAAKC,aAA/C;AACH;;AACDC,QAAAA,KAAK,GAAG;AACJ,cAAIC,MAAM,CAACC,OAAX,EACI,KAAKC,SAAL;AACP;;AACDN,QAAAA,QAAQ,GAAG;AACP,eAAKO,aAAL,CAAmBC,iBAAnB;AACA,eAAKC,YAAL,CAAkBD,iBAAlB;AACH;;AACDN,QAAAA,aAAa,CAACQ,GAAD,EAAc;AACvB,cAAIC,KAAK,GAAGzB,WAAW,CAAC,KAAK0B,IAAN,CAAvB;;AACA,cAAIC,MAAM,GAAGF,KAAK,CAACG,YAAN;AAAA;AAAA,yCAAb;;AAEA,cAAI,KAAKP,aAAL,CAAmBQ,QAAnB,CAA4BC,MAA5B,GAAqC,CAAzC,EACI,KAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKV,aAAL,CAAmBQ,QAAnB,CAA4BC,MAAxD,EAAgEC,KAAK,EAArE,EAAyE;AACrE,iBAAKV,aAAL,CAAmBQ,QAAnB,CAA4BE,KAA5B,EAAmCH,YAAnC;AAAA;AAAA,4CAA6DI,MAA7D;AACH;AACL,eAAKX,aAAL,CAAmBY,QAAnB,CAA4BR,KAA5B;AACA,eAAKF,YAAL,CAAkBU,QAAlB,CAA2BN,MAAM,CAACO,KAAP,CAAaC,IAAxC;AACAR,UAAAA,MAAM,CAACO,KAAP,CAAaE,MAAb,GAAsBZ,GAAtB;;AAEAG,UAAAA,MAAM,CAACU,OAAP;AACH;;AACDC,QAAAA,SAAS,GAAG;AACR,eAAKC,UAAL,CAAgB;AAAA;AAAA,sCAAU1B,SAA1B,EAAqC,KAAKC,QAA1C;AACA,eAAKyB,UAAL,CAAgB;AAAA;AAAA,gDAAexB,WAA/B,EAA4C,KAAKC,aAAjD;AACH;;AAtCuD,O","sourcesContent":["import { instantiate, Label, Node, Prefab, _decorator } from \"cc\";\r\nimport { GameEvent } from \"../../Enum/GameEvent\";\r\nimport { GameStateEvent } from \"../../Enum/GameStateEvent\";\r\nimport BaseComponent from \"../../Model/ComponentBase\";\r\nimport MessageItem from \"../../Model/MessageItem\";\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PanelGameMessage')\r\nexport default class PanelGameMessage extends BaseComponent {\r\n    @property(Prefab)\r\n    item: Prefab\r\n    @property(Node)\r\n    spriteContent: Node\r\n    @property(Node)\r\n    labelContent: Node\r\n\r\n\r\n    onEnable() {\r\n        this.setEvent(GameEvent.ResetView, this.allReset)\r\n        this.setEvent(GameStateEvent.GameMessage, this.onGameMessage)\r\n    }\r\n    start() {\r\n        if (window.isPhone)\r\n            this.phoneInit()\r\n    }\r\n    allReset() {\r\n        this.spriteContent.removeAllChildren()\r\n        this.labelContent.removeAllChildren()\r\n    }\r\n    onGameMessage(str: string) {\r\n        let _node = instantiate(this.item)\r\n        let _class = _node.getComponent(MessageItem)\r\n\r\n        if (this.spriteContent.children.length > 0)\r\n            for (let index = 0; index < this.spriteContent.children.length; index++) {\r\n                this.spriteContent.children[index].getComponent(MessageItem).moveUp()\r\n            }\r\n        this.spriteContent.addChild(_node)\r\n        this.labelContent.addChild(_class.label.node)\r\n        _class.label.string = str\r\n\r\n        _class.outFade()\r\n    }\r\n    onDisable() {\r\n        this.deletEvent(GameEvent.ResetView, this.allReset)\r\n        this.deletEvent(GameStateEvent.GameMessage, this.onGameMessage)\r\n    }\r\n}\r\n"]}
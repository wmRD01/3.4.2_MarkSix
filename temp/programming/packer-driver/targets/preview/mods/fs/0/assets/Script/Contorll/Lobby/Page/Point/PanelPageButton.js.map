{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Contorll/Lobby/Page/Point/PanelPageButton.ts"],"names":["Button","Node","Sprite","_decorator","AssetType","LobbyStateEvent","AssetMng","BaseComponent","ccclass","property","PanelPageButton","setPanelRank","_node","panelRank","setPanelPoint","panelPoint","onEnable","active","onChangePanel","PageType","Point","toString","setEvent","ChangePointPage","onDisable","deletEvent","e","customEventData","waitStateCheck","convert","Number","Rank","changeState","spriteRank","spritePoint","_sprite","state","getSprtie","OnOffData","On","Off","spriteFrame","AssetClass","get","data"],"mappings":"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","sourcesContent":["import { Button, EventTouch, Node, Sprite, _decorator } from 'cc';\r\nimport { AssetType } from '../../../../Enum/AssetType';\r\nimport { LobbyStateEvent } from '../../../../Enum/LobbyStateEvent';\r\nimport AssetMng from '../../../../Manager/AssetMng';\r\nimport BaseComponent from '../../../../Model/ComponentBase';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('PanelPageButton')\r\nexport default class PanelPageButton extends BaseComponent {\r\n    @property(Node)\r\n    panelRank: Node;\r\n    @property(Node)\r\n    panelPoint: Node;\r\n\r\n    @property(Button)\r\n    btnRank: Button;\r\n    @property(Button)\r\n    btnPoint: Button;\r\n\r\n\r\n    @property(Sprite)\r\n    spriteRank: Sprite;\r\n    @property(Sprite)\r\n    spritePoint: Sprite;\r\n    /**Prefab仔入用 */\r\n    setPanelRank(_node: Node) {\r\n        this.panelRank = _node\r\n    }\r\n    setPanelPoint(_node: Node) {\r\n        this.panelPoint = _node\r\n    }\r\n    onEnable() {\r\n        this.panelRank.active = false;\r\n        this.panelPoint.active = false\r\n        this.onChangePanel(null, PageType.Point.toString());\r\n        this.setEvent(LobbyStateEvent.ChangePointPage, this.onChangePanel)\r\n\r\n    }\r\n    onDisable() {\r\n        this.deletEvent(LobbyStateEvent.ChangePointPage, this.onChangePanel)\r\n    }\r\n    async onChangePanel(e: EventTouch, customEventData?: string) {\r\n        await AssetMng.waitStateCheck(AssetType.Sprite)\r\n        // console.log(customEventData);\r\n\r\n        let convert = Number(customEventData)\r\n        // console.log(this.panelRank.active);\r\n        // console.log(this.panelPoint.active);\r\n\r\n        switch (convert) {\r\n            case PageType.Rank:\r\n                if (this.panelRank.active) return\r\n                this.changeState(this.panelRank, this.spriteRank, true)\r\n                this.changeState(this.panelPoint, this.spritePoint, false)\r\n                break;\r\n            case PageType.Point:\r\n                if (this.panelPoint.active) return\r\n                this.changeState(this.panelRank, this.spriteRank, false)\r\n                this.changeState(this.panelPoint, this.spritePoint, true)\r\n                break;\r\n\r\n        }\r\n\r\n    }\r\n    changeState(_node: Node, _sprite: Sprite, state: boolean) {\r\n        _node.active = state\r\n        let getSprtie = state ? OnOffData.On : OnOffData.Off\r\n        _sprite.spriteFrame = AssetMng.AssetClass.get(AssetType.Sprite).data.get(getSprtie)\r\n    }\r\n}\r\nenum PageType {\r\n    Point,\r\n    Rank,\r\n}\r\nenum OnOffData {\r\n    On = \"integral_button01\",\r\n    Off = \"integral_button00\"\r\n}"]}
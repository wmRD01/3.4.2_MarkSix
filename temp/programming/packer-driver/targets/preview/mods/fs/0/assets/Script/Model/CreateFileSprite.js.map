{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Model/CreateFileSprite.ts"],"names":["CreateFileSprite","ImageAsset","Size","SpriteFrame","Texture2D","constructor","_callback","callback","document","getElementById","remove","input","createElement","type","accept","id","click","addEventListener","checkSpriteData","bind","head","appendChild","e","_File","target","files","console","log","AcceptImgFormat","indexOf","error","reader","FileReader","onload","readerOnload","readAsDataURL","limitSize","image","Image","src","result","imgAsset","reset","texture","sp","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","compress","img","canvas","ctx","getContext","tCanvas","tctx","initSize","wid","hei","width","height","spec","AutoSize","ratio","Math","sqrt","fillStyle","fillRect","count","nw","nh","i","j","drawImage","ndata","toDataURL","maxWidth","maxHeight"],"mappings":"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","sourcesContent":["import { ImageAsset, Size, SpriteFrame, Texture2D } from \"cc\";\r\n\r\nexport default class CreateFileSprite {\r\n    AcceptImgFormat: string[] = ['image/gif', 'image/jpeg', 'image/png', 'image/bmp'];\r\n    callback: Function\r\n    \r\n\r\n    constructor(_callback: Function) {\r\n        this.callback = _callback\r\n        if (document.getElementById('inputfile') != null) {\r\n            document.getElementById('inputfile').remove();\r\n        }\r\n        let input = document.createElement('input');\r\n        input.type = \"file\";\r\n        input.accept = \"image/*\";\r\n        input.id = \"inputfile\";\r\n        input.click();\r\n        input.addEventListener(\"change\", this.checkSpriteData.bind(this), false);\r\n        document.head.appendChild(input);\r\n    }\r\n\r\n    checkSpriteData(e: Event) {\r\n\r\n        const _File: File = (e.target as HTMLInputElement).files[0]\r\n        console.log(_File);\r\n        console.log(\"確定上傳\");\r\n        if (this.AcceptImgFormat.indexOf(_File.type) == -1) {\r\n            return console.error(`代表類型不正確`);\r\n        }\r\n        if (!_File) {\r\n            return console.error(`無檔案`);\r\n        };\r\n        /**開一條支線傳給後端 */\r\n        const reader = new FileReader();\r\n        reader.onload = this.readerOnload.bind(this)\r\n        reader.readAsDataURL(_File)\r\n    }\r\n\r\n    readerOnload(e: ProgressEvent) {\r\n        console.log(e);\r\n        let limitSize = 2 * 1024 * 1024\r\n        const image = new Image();\r\n        image.src = (e.target as FileReader).result as string\r\n\r\n        image.onload = () => {\r\n            let imgAsset = new ImageAsset();//重置此图像资源使用的原始图像源\r\n            imgAsset.reset(image);\r\n            let texture = new Texture2D();\r\n            texture.image = imgAsset;\r\n            const sp = new SpriteFrame();\r\n            //sprite 图片\r\n            sp.texture = texture;\r\n            this.callback(sp)\r\n            return\r\n        }\r\n\r\n    }\r\n\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n    /**以下暫時用不到，如果需要進一步處理圖片才需要 */\r\n\r\n\r\n    dataURLtoFile(dataurl: string, filename: string) { //將base64轉換為檔案\r\n        var arr = dataurl.split(','),\r\n            mime = arr[0].match(/:(.*?);/),\r\n            bstr = atob(arr[1]),\r\n            n = bstr.length,\r\n            u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        // return new File([u8arr], filename, {\r\n        //     type: mime\r\n        // });\r\n    }\r\n    compress(img) {\r\n\r\n        // 用於壓縮圖片的canvas\r\n        var canvas = document.createElement('canvas');\r\n        var ctx = canvas.getContext('2d');\r\n        // 瓦片canvas\r\n        var tCanvas = document.createElement('canvas');\r\n        var tctx = tCanvas.getContext('2d');\r\n        let initSize = img.src.length;\r\n\r\n        // 獲取父元素寬高\r\n        let wid = 207\r\n        let hei = 207\r\n        // let parentWh = $('.creater_class .files');\r\n        // let wid = parentWh.width();\r\n        // let hei = parentWh.height();\r\n        //console.log(\"父親:\"+wid+'...'+hei)\r\n        console.log(\"原始圖片:\" + img.width + '...' + img.height)\r\n        // 等比壓縮圖片\r\n        let spec = this.AutoSize(img, wid, hei);\r\n        var width = spec.width;\r\n        var height = spec.height;\r\n        console.log(\"變小圖片:\" + width + '...' + height)\r\n        // 如果圖片大於四百萬畫素，計算壓縮比並將大小壓至400萬以下\r\n        var ratio;\r\n        if ((ratio = width * height / 4000000) > 1) {\r\n            ratio = Math.sqrt(ratio);\r\n            width /= ratio;\r\n            height /= ratio;\r\n        } else {\r\n            ratio = 1;\r\n        }\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        // 鋪底色\r\n        ctx.fillStyle = '#000';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        // 如果圖片畫素大於100萬則使用瓦片繪製\r\n        var count;\r\n        if ((count = width * height / 1000000) > 1) {\r\n            count = ~~(Math.sqrt(count) + 1); // 計算要分成多少塊瓦片\r\n            // 計算每塊瓦片的寬和高\r\n            var nw = ~~(width / count);\r\n            var nh = ~~(height / count);\r\n            tCanvas.width = nw;\r\n            tCanvas.height = nh;\r\n            for (let i = 0; i < count; i++) {\r\n                for (let j = 0; j < count; j++) {\r\n                    tctx.drawImage(img, i * nw * ratio, j * nh * ratio, nw * ratio, nh * ratio, 0, 0, nw, nh);\r\n                    ctx.drawImage(tCanvas, i * nw, j * nh, nw, nh);\r\n                }\r\n            }\r\n        } else {\r\n            ctx.drawImage(img, 0, 0, width, height);\r\n        }\r\n\r\n        // 進行最小壓縮0.1\r\n        //var ndata = canvas.toDataURL('image/jpeg', 0.5);\r\n        var ndata = canvas.toDataURL();\r\n        // console.log('壓縮前：' + initSize)\r\n        // console.log('壓縮後：' + ndata.length)\r\n        // console.log('壓縮率：' + ~~(100 * (initSize - ndata.length) / initSize) + \"%\")\r\n        //tCanvas.width = tCanvas.height = canvas.width = canvas.height = 0;\r\n        return ndata;\r\n    }\r\n    AutoSize(image, maxWidth, maxHeight) { // 等比壓縮圖片\r\n        let spec = new Size();\r\n        // 當圖片比圖片框小時不做任何改變\r\n        if (image.width < maxWidth && image.height < maxHeight) {\r\n            //原圖片寬高比例 大於 圖片框寬高比例\r\n            //寬大於高\r\n            if (image.width >= image.height) {\r\n                spec.width = maxWidth;\r\n                spec.height = image.height * (maxWidth / image.width);\r\n            }\r\n            //高大於寬\r\n            else {\r\n                spec.width = image.width * (maxHeight / image.height);\r\n                spec.height = maxHeight;\r\n            }\r\n            // spec.width = image.width;\r\n            // spec.height = image.height;\r\n        } else {\r\n            //原圖片寬高比例 大於 圖片框寬高比例,則以框的寬為標準縮放，反之以框的高為標準縮放\r\n            if (maxWidth / maxHeight <= image.width / image.height) {\r\n                spec.width = maxWidth; //以框的寬度為標準\r\n                spec.height = maxWidth * (image.height / image.width);\r\n            } else {\r\n                spec.width = maxHeight * (image.width / image.height);\r\n                spec.height = maxHeight; //以框的高度為標準\r\n            }\r\n        }\r\n\r\n        return spec;\r\n    }\r\n}\r\n\r\n    // _doChangePhoto() {\r\n    //     // 取得選取的檔案\r\n    //     const selectedFile = document.getElementById('inputfile').files[0];\r\n\r\n    //     // 檢查檔案格式\r\n    //     if (!ShareControll.AllShare_Controll.publicSetUp.AcceptImgFormat.includes(selectedFile.type)) {\r\n    //         ShareControll.AllShare_Controll.MessageBox.showConfirm(this, 0, ShareControll.AllShare_Controll.publicSetUp.Lng_UploadFileFormat);\r\n    //         return false;\r\n    //     }\r\n\r\n    //     // 檢查檔案大小\r\n    //     if (selectedFile.size > ShareControll.AllShare_Controll.publicSetUp.FileSizeLimit * 1024 * 1024) {\r\n    //         ShareControll.AllShare_Controll.MessageBox.showConfirm(this, 0, ShareControll.AllShare_Controll.publicSetUp.Lng_ExceedFileSize);\r\n    //         return false;\r\n    //     }\r\n\r\n    //     // 讀取檔案內容\r\n    //     const reader = new FileReader();\r\n    //     reader.onload = function (event) {\r\n    //         // 建立圖片物件\r\n    //         const image = new Image();\r\n\r\n    //         // 設定圖片來源\r\n    //         image.src = event.target.result;\r\n\r\n    //         // 圖片載入後，執行下列程式碼\r\n    //         image.onload = function () {\r\n    //             // 檢查檔案大小是否超過限制\r\n    //             if (image.width > ShareControll.AllShare_Controll.publicSetUp.ImageWidthLimit || image.height > ShareControll.AllShare_Controll.publicSetUp.ImageHeightLimit) {\r\n    //                 ShareControll.AllShare_Controll.MessageBox.showConfirm(this, 0, ShareControll.AllShare_Controll.publicSetUp.Lng_ImageSizeExceed);\r\n    //                 return false;\r\n    //             }\r\n\r\n    //             // 壓縮圖片\r\n    //             const compressedImage = LobbyShareFuntion.compress(image);\r\n\r\n    //             // 將壓縮後的圖片儲存到檔案\r\n    //             const newFile = LobbyShareFuntion.dataURLtoFile(compressedImage, '1.png');\r\n\r\n    //             // 顯示圖片\r\n    //             LobbyShareFuntion.PreviewPhoto(image, compressedImage);\r\n    //         };\r\n    //     };\r\n\r\n    //     // 讀取檔案內容\r\n    //     reader.readAsDataURL(selectedFile);\r\n    // }"]}
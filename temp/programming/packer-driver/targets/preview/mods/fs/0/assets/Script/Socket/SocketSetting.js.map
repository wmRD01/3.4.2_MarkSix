{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/Socket/SocketSetting.ts"],"names":["SocketSetting","LangType","Object","setLang","language","Language","init","_data","_type","data","getTypeData","key","prototype","hasOwnProperty","call","Game","isGame","Server","isServer","ServerAPI","isServerAPI","t","option","checkSetLang","Promise","resolve","reject","checkLoop","setInterval","isbool","clearInterval","checkLanguage","gameData","serverData","serverAPIData"],"mappings":";;;wCAEMA,a;;;;;;;;;;;;;;;;;;AAFGC,MAAAA,Q,iBAAAA,Q;;;;;;;AAEHD,MAAAA,a,GAAN,MAAMA,aAAN,CAAoB;AAAA;AAAA;;AAAA;;AAAA,mDAGE,EAHF;;AAAA,8CAIH,KAJG;;AAAA,oDAKG,EALH;;AAAA,4CAML,EANK;;AAAA,4CAOG,IAAIE,MAAJ,EAPH;;AAAA,8CAQK,IAAIA,MAAJ,EARL;;AAAA,iDASQ,IAAIA,MAAJ,EATR;;AAAA;;AAAA;;AAAA;AAAA;;AAchBC,QAAAA,OAAO,CAACC,QAAD,EAAmB;AACtB,eAAKC,QAAL,GAAgBD,QAAhB;AACA,iBAAO,IAAP;AACH;;AACDE,QAAAA,IAAI,CAACC,KAAD,EAAgBC,KAAhB,EAAiC;AACjC;AACA,cAAIC,IAAI,GAAG,KAAKC,WAAL,CAAiBF,KAAjB,CAAX,CAFiC,CAGjC;;AAGA,eAAK,IAAMG,GAAX,IAAkBJ,KAAlB,EAAyB;AACrB,gBAAI,CAACL,MAAM,CAACU,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCL,IAArC,EAA2CE,GAA3C,CAAL,EAAsD;AAClDF,cAAAA,IAAI,CAACE,GAAD,CAAJ,GAAYJ,KAAK,CAACI,GAAD,CAAjB;AACH;AAEJ;;AACD,kBAAQH,KAAR;AACI,iBAAK;AAAA;AAAA,sCAASO,IAAd;AACI,mBAAKC,MAAL,GAAc,IAAd;;AACJ,iBAAK;AAAA;AAAA,sCAASC,MAAd;AACI,mBAAKC,QAAL,GAAgB,IAAhB;;AACJ,iBAAK;AAAA;AAAA,sCAASC,SAAd;AACI,mBAAKC,WAAL,GAAmB,IAAnB;AANR;;AASA,iBAAO,IAAP,CArBiC,CAuBjC;AACA;AACA;AACH;;AACDC,QAAAA,CAAC,CAACC,MAAD,EAAiBd,KAAjB,EAAkC;AAC/B,cAAIC,IAAI,GAAG,KAAKC,WAAL,CAAiBF,KAAjB,CAAX,CAD+B,CAG/B;AACA;;AACA,cAAIC,IAAI,IAAI,IAAZ,EAAkB;AACd,mBAAOa,MAAP;AACH;;AACD,iBAAOb,IAAI,CAACa,MAAD,CAAJ,IAAgB,IAAhB,GAAuBA,MAAvB,GAAgCb,IAAI,CAACa,MAAD,CAA3C;AACH;;AACKC,QAAAA,YAAY,GAAG;AAAA;;AAAA;AACjB,mBAAO,IAAIC,OAAJ,CAAkB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC1C,kBAAI,KAAI,CAACrB,QAAL,IAAiB,EAArB,EAAyBoB,OAAO;AAEhC,kBAAIE,SAAS,GAAGC,WAAW,CAAC,MAAM;AAC9B,oBAAIC,MAAM,GAAG,KAAI,CAACxB,QAAL,IAAiB,EAAjB,GAAsB,IAAtB,GAA6B,KAA1C;;AACA,oBAAI,CAACwB,MAAL,EAAa;AACTJ,kBAAAA,OAAO;AACPK,kBAAAA,aAAa,CAACH,SAAD,CAAb;AACH;AACJ,eAN0B,EAMxB,GANwB,CAA3B;AAOH,aAVM,CAAP;AADiB;AAYpB;;AACKI,QAAAA,aAAa,CAACvB,KAAD,EAAkB;AAAA;;AAAA;AACjC,mBAAO,IAAIgB,OAAJ,CAAkB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC1C,kBAAIlB,KAAK,IAAI;AAAA;AAAA,wCAASO,IAAlB,IAA0B,MAAI,CAACC,MAAnC,EAA2CS,OAAO;AAClD,kBAAIjB,KAAK,IAAI;AAAA;AAAA,wCAASS,MAAlB,IAA4B,MAAI,CAACC,QAArC,EAA+CO,OAAO;AACtD,kBAAIjB,KAAK,IAAI;AAAA;AAAA,wCAASW,SAAlB,IAA+B,MAAI,CAACH,MAAxC,EAAgDS,OAAO;AACvD,kBAAIE,SAAS,GAAGC,WAAW,CAAC,MAAM;AAC9B,oBAAIC,MAAM,GAAGrB,KAAK,IAAI;AAAA;AAAA,0CAASO,IAAlB,GAAyB,MAAI,CAACC,MAA9B,GAAuC,MAAI,CAACE,QAAzD;;AACA,oBAAIW,MAAJ,EAAY;AACR;AAEAJ,kBAAAA,OAAO;AACPK,kBAAAA,aAAa,CAACH,SAAD,CAAb;AACH;AACJ,eAR0B,EAQxB,GARwB,CAA3B;AASH,aAbM,CAAP;AADiC;AAepC;;AACDjB,QAAAA,WAAW,CAACF,KAAD,EAAkB;AACzB,kBAAQA,KAAR;AACI,iBAAK;AAAA;AAAA,sCAASO,IAAd;AACI,qBAAO,KAAKiB,QAAZ;;AACJ,iBAAK;AAAA;AAAA,sCAASf,MAAd;AACI,qBAAO,KAAKgB,UAAZ;;AACJ,iBAAK;AAAA;AAAA,sCAASd,SAAd;AACI,qBAAO,KAAKe,aAAZ;AANR;AASH;;AA9Fe,O;;yBAmGL,IAAIlC,aAAJ,E","sourcesContent":["import { LangType } from \"../Enum/LangType\";\r\n\r\nclass SocketSetting {\r\n    UserLanguage: string;\r\n    IsMessage: boolean;\r\n    ClientSetObject = {};      // 客端底層所有參數存放位置\r\n    setboolean = false;        // 讓設定值只設定一次\r\n    ServerReturnData = {};     // Server回傳所有參數 \r\n    Language = \"\";\r\n    gameData: Object = new Object();\r\n    serverData: Object = new Object();\r\n    serverAPIData: Object = new Object();\r\n    isGame: boolean;\r\n    isServer: boolean\r\n    isServerAPI: boolean;\r\n\r\n    setLang(language: string) {\r\n        this.Language = language;\r\n        return this\r\n    }\r\n    init(_data: Object, _type: LangType) {\r\n        // console.log(_type, _data);\r\n        let data = this.getTypeData(_type);\r\n        // console.log(data);\r\n\r\n\r\n        for (const key in _data) {\r\n            if (!Object.prototype.hasOwnProperty.call(data, key)) {\r\n                data[key] = _data[key];\r\n            }\r\n\r\n        }\r\n        switch (_type) {\r\n            case LangType.Game:\r\n                this.isGame = true;\r\n            case LangType.Server:\r\n                this.isServer = true;\r\n            case LangType.ServerAPI:\r\n                this.isServerAPI = true;\r\n        }\r\n\r\n        return this\r\n\r\n        //@ts-ignore\r\n        // this.data = data;\r\n        // console.log(language);\r\n    }\r\n    t(option: string, _type: LangType) {\r\n        let data = this.getTypeData(_type);\r\n\r\n        // console.log(option);\r\n        // console.log(data);\r\n        if (data == null) {\r\n            return option;\r\n        }\r\n        return data[option] == null ? option : data[option];\r\n    }\r\n    async checkSetLang() {\r\n        return new Promise<void>((resolve, reject) => {\r\n            if (this.Language != \"\") resolve()\r\n\r\n            let checkLoop = setInterval(() => {\r\n                let isbool = this.Language == \"\" ? true : false\r\n                if (!isbool) {\r\n                    resolve();\r\n                    clearInterval(checkLoop)\r\n                }\r\n            }, 100)\r\n        })\r\n    }\r\n    async checkLanguage(_type: LangType) {\r\n        return new Promise<void>((resolve, reject) => {\r\n            if (_type == LangType.Game && this.isGame) resolve();\r\n            if (_type == LangType.Server && this.isServer) resolve();\r\n            if (_type == LangType.ServerAPI && this.isGame) resolve();\r\n            let checkLoop = setInterval(() => {\r\n                let isbool = _type == LangType.Game ? this.isGame : this.isServer\r\n                if (isbool) {\r\n                    // console.log(SocketSetting.data);\r\n\r\n                    resolve();\r\n                    clearInterval(checkLoop)\r\n                }\r\n            }, 100)\r\n        })\r\n    }\r\n    getTypeData(_type: LangType) {\r\n        switch (_type) {\r\n            case LangType.Game:\r\n                return this.gameData;\r\n            case LangType.Server:\r\n                return this.serverData;\r\n            case LangType.ServerAPI:\r\n                return this.serverAPIData;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\nexport default new SocketSetting();\r\n\r\n"]}
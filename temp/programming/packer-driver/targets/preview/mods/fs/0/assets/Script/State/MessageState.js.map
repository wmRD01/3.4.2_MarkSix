{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/State/MessageState.ts"],"names":["ShowConfirmMessage","BackHomeMessage","DefaultlMessage","State","PanelSystemMessage","GameStateEvent","NotificationType","WebSocketEvent","EventMng","changeState","caption","getInstance","mapEvnet","get","Pulic","emit","GameMessage","console","log","instance","node","active","setCaption","showSingleConfirm","CloseWindow"],"mappings":";;;qHAOaA,kB,EAaAC,e,EAcAC,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlCJC,MAAAA,K,iBAAAA,K;;AACFC,MAAAA,kB;;AACEC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,c,iBAAAA,c;;AACFC,MAAAA,Q;;;;;;;oCAEMR,kB,GAAN,MAAMA,kBAAN;AAAA;AAAA,0BAAuC;AACnCS,QAAAA,WAAW,CAACC,OAAD,EAAwB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA,oCAASC,WAAT,CAAqBC,QAArB,CAA8BC,GAA9B,CAAkC;AAAA;AAAA,oDAAiBC,KAAnD,EAA0DC,IAA1D,CAA+D;AAAA;AAAA,gDAAeC,WAA9E,EAA2FN,OAA3F;AACH;;AATyC,O;;iCAajCT,e,GAAN,MAAMA,eAAN;AAAA;AAAA,0BAAoC;AAChCQ,QAAAA,WAAW,CAACC,OAAD,EAAwB;AACtCO,UAAAA,OAAO,CAACC,GAAR,CAAY;AAAA;AAAA,wDAAmBC,QAA/B;AAEA,cAAI;AAAA;AAAA,wDAAmBA,QAAnB,CAA4BC,IAA5B,CAAiCC,MAArC,EAA6C;AAAA;AAAA,wDAAmBF,QAAnB,CAA4BG,UAA5B,CAAuCZ,OAAvC,EAA7C,KACK;AACD;AACA;AAAA;AAAA,0DAAmBS,QAAnB,CAA4BI,iBAA5B,CAA8Cb,OAA9C,EAAuD,MAAM;AACzD;AAAA;AAAA,wCAASC,WAAT,CAAqBI,IAArB,CAA0B;AAAA;AAAA,wDAAiBD,KAA3C,EAAkD;AAAA;AAAA,oDAAeU,WAAjE;AACH,aAFD;AAGH;AACJ;;AAXsC,O;;iCAc9BtB,e,GAAN,MAAMA,eAAN;AAAA;AAAA,0BAAoC;AAChCO,QAAAA,WAAW,CAACC,OAAD,EAAwB;AACtC;AAAA;AAAA,wDAAmBS,QAAnB,CAA4BI,iBAA5B,CAA8Cb,OAA9C;AACH;;AAHsC,O","sourcesContent":["import { State } from \"../../Patten/StatePatten\";\r\nimport PanelSystemMessage from \"../Contorll/NoClearNode/PanelSystemMessage\";\r\nimport { GameStateEvent } from \"../Enum/GameStateEvent\";\r\nimport { NotificationType } from \"../Enum/NotificationType\";\r\nimport { WebSocketEvent } from \"../Enum/WebSocketEvent\";\r\nimport EventMng from \"../Manager/EventMng\";\r\n\r\nexport class ShowConfirmMessage extends State {\r\n    public changeState(caption: string): void {\r\n        // if (PanelSystemMessage.instance.node.active) PanelSystemMessage.instance.setCaption(caption)\r\n        // else {\r\n        // PanelSystemMessage.instance.messageInit(caption)\r\n        // PanelSystemMessage.instance.showSingleConfirm();\r\n        // 在這轉彎成Gamemessage 就得不用了\r\n        // }\r\n        EventMng.getInstance.mapEvnet.get(NotificationType.Pulic).emit(GameStateEvent.GameMessage, caption)\r\n    }\r\n\r\n}\r\n\r\nexport class BackHomeMessage extends State {\r\n    public changeState(caption: string): void {\r\n        console.log(PanelSystemMessage.instance);\r\n\r\n        if (PanelSystemMessage.instance.node.active) PanelSystemMessage.instance.setCaption(caption)\r\n        else {\r\n            //引用會有循環問題\r\n            PanelSystemMessage.instance.showSingleConfirm(caption, () => {\r\n                EventMng.getInstance.emit(NotificationType.Pulic, WebSocketEvent.CloseWindow)\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport class DefaultlMessage extends State {\r\n    public changeState(caption: string): void {\r\n        PanelSystemMessage.instance.showSingleConfirm(caption);\r\n    }\r\n\r\n}"]}
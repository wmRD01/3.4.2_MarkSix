{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/State/MessageState.ts"],"names":["ShowConfirmMessage","BackHomeMessage","DefaultlMessage","find","State","PanelSystemMessage","NotificationType","GameStateEvent","EventMng","ButtonFunctionApi","changeState","caption","getInstance","mapEvnet","get","Pulic","emit","GameMessage","console","log","instance","node","active","setCaption","messageInit","confirmBtn","target","getComponent","callback","showSingleConfirm"],"mappings":";;;8HAQaA,kB,EAaAC,e,EAgBAC,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AArCJC,MAAAA,I,OAAAA,I;;AACAC,MAAAA,K,iBAAAA,K;;AACFC,MAAAA,kB;;AACEC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,c,iBAAAA,c;;AACFC,MAAAA,Q;;AACAC,MAAAA,iB;;;;;;;oCAEMT,kB,GAAN,MAAMA,kBAAN;AAAA;AAAA,0BAAuC;AACnCU,QAAAA,WAAW,CAACC,OAAD,EAAwB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA,oCAASC,WAAT,CAAqBC,QAArB,CAA8BC,GAA9B,CAAkC;AAAA;AAAA,oDAAiBC,KAAnD,EAA0DC,IAA1D,CAA+D;AAAA;AAAA,gDAAeC,WAA9E,EAA2FN,OAA3F;AACH;;AATyC,O;;iCAajCV,e,GAAN,MAAMA,eAAN;AAAA;AAAA,0BAAoC;AAChCS,QAAAA,WAAW,CAACC,OAAD,EAAwB;AACtCO,UAAAA,OAAO,CAACC,GAAR,CAAY;AAAA;AAAA,wDAAmBC,QAA/B;AAEA,cAAI;AAAA;AAAA,wDAAmBA,QAAnB,CAA4BC,IAA5B,CAAiCC,MAArC,EAA6C;AAAA;AAAA,wDAAmBF,QAAnB,CAA4BG,UAA5B,CAAuCZ,OAAvC,EAA7C,KACK;AACD;AAAA;AAAA,0DAAmBS,QAAnB,CAA4BI,WAA5B,CAAwCb,OAAxC,EADC,CAED;;AACA,gBAAIc,UAAU,GAAG;AAAA;AAAA,yDAAjB;AACAA,YAAAA,UAAU,CAACC,MAAX,GAAoBvB,IAAI,CAAC,eAAD,CAAJ,CAAsBwB,YAAtB,CAAmC,eAAnC,CAApB;AACAF,YAAAA,UAAU,CAACG,QAAX,GAAsB,eAAtB;AACA;AAAA;AAAA,0DAAmBR,QAAnB,CAA4BS,iBAA5B,CAA8CJ,UAA9C;AACH;AACJ;;AAbsC,O;;iCAgB9BvB,e,GAAN,MAAMA,eAAN;AAAA;AAAA,0BAAoC;AAChCQ,QAAAA,WAAW,CAACC,OAAD,EAAwB;AACtC;AAAA;AAAA,wDAAmBS,QAAnB,CAA4BI,WAA5B,CAAwCb,OAAxC;AACH;;AAHsC,O","sourcesContent":["import { find } from \"cc\";\r\nimport { State } from \"../../Patten/StatePatten\";\r\nimport PanelSystemMessage from \"../Contorll/NoClearNode/PanelSystemMessage\";\r\nimport { NotificationType } from \"../Enum/NotificationType\";\r\nimport { GameStateEvent } from \"../Enum/GameStateEvent\";\r\nimport EventMng from \"../Manager/EventMng\";\r\nimport ButtonFunctionApi from \"../Model/ButtonFunctionApi\";\r\n\r\nexport class ShowConfirmMessage extends State {\r\n    public changeState(caption: string): void {\r\n        // if (PanelSystemMessage.instance.node.active) PanelSystemMessage.instance.setCaption(caption)\r\n        // else {\r\n        // PanelSystemMessage.instance.messageInit(caption)\r\n        // PanelSystemMessage.instance.showSingleConfirm();\r\n        // 在這轉彎成Gamemessage 就得不用了\r\n        // }\r\n        EventMng.getInstance.mapEvnet.get(NotificationType.Pulic).emit(GameStateEvent.GameMessage, caption)\r\n    }\r\n\r\n}\r\n\r\nexport class BackHomeMessage extends State {\r\n    public changeState(caption: string): void {\r\n        console.log(PanelSystemMessage.instance);\r\n\r\n        if (PanelSystemMessage.instance.node.active) PanelSystemMessage.instance.setCaption(caption)\r\n        else {\r\n            PanelSystemMessage.instance.messageInit(caption)\r\n            //引用會有循環問題\r\n            let confirmBtn = new ButtonFunctionApi()\r\n            confirmBtn.target = find(\"GameWebSocekt\").getComponent(\"GameWebSocket\")\r\n            confirmBtn.callback = \"onCloseWindow\"\r\n            PanelSystemMessage.instance.showSingleConfirm(confirmBtn);\r\n        }\r\n    }\r\n}\r\n\r\nexport class DefaultlMessage extends State {\r\n    public changeState(caption: string): void {\r\n        PanelSystemMessage.instance.messageInit(caption)\r\n    }\r\n\r\n}"]}
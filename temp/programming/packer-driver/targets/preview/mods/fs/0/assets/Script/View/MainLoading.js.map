{"version":3,"sources":["file:///C:/CocosProject/3.4.2_MarkSix/assets/Script/View/MainLoading.ts"],"names":["director","game","sys","_decorator","BaseSingletonComponent","PanelLoading","GameSceneName","AssetMng","MusicMng","PublicData","ccclass","property","MainLoading","onLoad","getInstance","currentScene","Loading","frameRate","isResetView","startLoad","init","start","os","OS","ANDROID","IOS","instance","openLoading","preloadScene","Lobby","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;AAAUC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,U,OAAAA,U;;AAC3BC,MAAAA,sB;;AACAC,MAAAA,Y;;AAEEC,MAAAA,a,iBAAAA,a;;AACFC,MAAAA,Q;;AACAC,MAAAA,Q;;AACAC,MAAAA,U;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;yBAITS,W,WADpBF,OAAO,CAAC,aAAD,C,gBAAR,MACqBE,WADrB,SACyC;AAAA;AAAA,6DADzC,CAC+E;AAC3EC,QAAAA,MAAM,GAAG;AAEL;AAAA;AAAA,wCAAWC,WAAX,CAAuBC,YAAvB,GAAsC;AAAA;AAAA,8CAAcC,OAApD;AACA,gBAAMH,MAAN;AACAZ,UAAAA,IAAI,CAACgB,SAAL,GAAiB,EAAjB;AACA;AAAA;AAAA,wCAAWH,WAAX,CAAuBI,WAAvB,GAAqC,IAArC;AACA;AAAA;AAAA,oCAASC,SAAT;AACA;AAAA;AAAA,oCAASC,IAAT;AACH;;AACDC,QAAAA,KAAK,GAAG;AACJ,cAAInB,GAAG,CAACoB,EAAJ,IAAUpB,GAAG,CAACqB,EAAJ,CAAOC,OAAjB,IAA4BtB,GAAG,CAACoB,EAAJ,IAAUpB,GAAG,CAACqB,EAAJ,CAAOE,GAAjD,EAAsD;AAClD;AAAA;AAAA,8CAAaC,QAAb,CAAsBC,WAAtB;AACA3B,YAAAA,QAAQ,CAAC4B,YAAT,CAAsB;AAAA;AAAA,gDAAcC,KAApC,EAA2C,MAAM;AAC7C7B,cAAAA,QAAQ,CAAC8B,SAAT,CAAmB;AAAA;AAAA,kDAAcD,KAAjC;AACH,aAFD;AAIH;;AACD,iBARI,CASJ;AACH;;AApB0E,O","sourcesContent":["import { director, game, js, sys, _decorator } from \"cc\";\r\nimport BaseSingletonComponent from \"../../Patten/Singleton/BaseSingletonComponent\";\r\nimport PanelLoading from \"../Contorll/NoClearNode/PanelLoading\";\r\nimport { GameEvent } from \"../Enum/GameEvent\";\r\nimport { GameSceneName } from \"../Enum/GameSenceName\";\r\nimport AssetMng from \"../Manager/AssetMng\";\r\nimport MusicMng from \"../Manager/MusicMng\";\r\nimport PublicData from \"../Model/PublicData\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('MainLoading')\r\nexport default class MainLoading extends BaseSingletonComponent<MainLoading>() {\r\n    onLoad() {\r\n\r\n        PublicData.getInstance.currentScene = GameSceneName.Loading\r\n        super.onLoad()\r\n        game.frameRate = 59\r\n        PublicData.getInstance.isResetView = true\r\n        AssetMng.startLoad()\r\n        MusicMng.init()\r\n    }\r\n    start() {\r\n        if (sys.os != sys.OS.ANDROID && sys.os != sys.OS.IOS) {\r\n            PanelLoading.instance.openLoading()\r\n            director.preloadScene(GameSceneName.Lobby, () => {\r\n                director.loadScene(GameSceneName.Lobby)\r\n            })\r\n\r\n        }\r\n        return\r\n        // PanelLoading.instance.openLoading()\r\n    }\r\n\r\n}"]}